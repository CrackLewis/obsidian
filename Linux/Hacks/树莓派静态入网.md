---
tags:
  - 树莓派
---

场景：网线直连，设置一个静态IP以便随时连接。

宿主机：
- 有线网络适配器改为手动分配IP，本机IP设置为`192.168.137.1/24`，网关/DNS可留空
- 可通过`arp -a`检查树莓派连接状态

树莓派：
- 烧完的系统一般还没配好静态IP，需要先用Wi-Fi登录
- 通过指令修改网络配置，将有线网络（一般为`eth0`）的配置改为静态IP
- 重启系统使其设置应用

## 方案一：nmcli

树莓派一般预装了`nmcli`。输入`sudo nmcli`可查看所有网络的连接状态。

输入`sudo nmcli connection`可查看所有连接的列表，一般格式如下：

```
??????@raspberrypi:~ $ sudo nmcli connection
NAME                UUID                                  TYPE      DEVICE
preconfigured       2752c582-64ad-4a6c-8d17-6ef621c38205  wifi      wlan0
Wired connection 1  63819e16-312b-3ca1-8e64-953e629545dd  ethernet  eth0
lo                  a5c3c9a2-5ded-4c4b-bb02-6c53d74dfbe7  loopback  lo
```

修改连接配置需要执行如下命令：

```sh
$ sudo nmcli connection modify $CONN_UUID ipv4.addresses 192.168.137.??/24 ipv4.method manual
```

本机实测未重启也可生效，为保险起见可尝试重启。