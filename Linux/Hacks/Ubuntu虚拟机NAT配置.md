
## DHCP方式

方案：
- `192.168.80.1`设为网关
- `192.168.80.2`预留为宿主机IP
- `192.168.80.3-254`供分配给虚拟机

出于某些原因，VMWare不会在启动时便配置好DHCP，必须手动修改一下配置后才能正确工作。

如果仍然不能解决问题，检查顺序：
- VMWare虚拟网络管理器是否正确启用了NAT适配器，适配器的DHCP设置、NAT设置是否正确。
- 虚拟机的网络是否设置了通过DHCP获取IP。
- 宿主机的网络适配器中是否启用了NAT适配器，其IPv4配置是否正确。
- 宿主机的防火墙设置。

UPD 240419：改一下NAT适配器的网关地址，保存，再改回来，就行了（

## 静态地址

如果有SSH需求，可能需要分配静态地址。

首先宿主机需要将VMnet8适配器的DNS服务器设为网关地址。

![[Pasted image 20240428190904.png]]

以Ubuntu16.04为例，需要将IPv4连接方式设为*手动*，添加本机地址、子网掩码、网关，设置*DNS服务器地址*。

虚拟机的DNS服务器地址也直接设成网关地址。

如果配置修改之后仍不生效，建议断开虚拟机的网络连接，再重连。