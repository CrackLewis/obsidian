
参考资料：
- 数据库系统概念（中文第六版）
- [博客](https://blog.csdn.net/weixin_45591044/article/details/106350680)
- [关系代数详解](https://blog.csdn.net/JavaEEKing/article/details/109223552)

## outline

- 概述
- 关系数据库
- 数据库设计
- 数据库应用设计、开发（略）
- 大数据分析
- 数据存储和索引
- 查询处理和优化

## 概述

基本概念：
- 数据
- 数据库
- 数据库管理系统（DBMS）：位于用户和操作系统之间的一层数据管理软件
- 数据定义语言（DDL）
- 数据操作语言（DML）
- 数据库系统（DBS）

数据库管理技术发展历程：人工管理阶段、文件系统阶段、数据库系统阶段

数据模型：
- 分类：概念模型、逻辑模型和物理模型
- 组成要素：数据结构、数据操作、完整性约束条件

逻辑模型分类：
- 非关系模型：
	- 层次模型：整个数据库呈树状结构
	- 网状模型：整个数据库呈图状结构
- 关系模型

关系模型术语：
- 关系：对应一张数据表
- 属性：数据表的一列
- 域：属性的取值范围
- 元组：数据表的一行
- 码（码键）：数据表的某个属性组，可以唯一确定一个元组
- 分量：元组中的一个属性值
- 关系模式：对关系的描述，一般描述为`relation(attr1,attr2,...)`

实体-关系（entity-relationship，E-R）图：
- 实体型：矩形，标实体名
- 属性：与其归属实体型代表的矩形相连的椭圆，标属性名
- 联系：连接两个矩形的菱形，标联系名和联系类型（`1:1`、`1:n`、`m:n`）

数据库系统结构：
- 模式（逻辑模式）：数据库中*全体数据*逻辑结构和特征的描述
	- 地位：与存储细节和开发环境无关
- 外模式（子模式、用户模式）：数据库*用户局部数据*的逻辑结构和特征的描述
	- 用途：保证数据库安全性
- 内模式（存储模式）：数据*物理结构和存储方式*的描述
	- 细节：记录存储方式、索引组织方式、压缩存储、加密、存储记录结构规定

![[Pasted image 20240202112824.png]]

## 关系数据库

### 关系数据结构和形式化定义

**域**（domain）：一组具有相同数据类型的值的集合。例如整数、自然数、实数都是域。

**笛卡尔积**（cartesian product）：域内的一种集合运算，一组域$D_1,D_2,\dots,D_n$的笛卡尔积为：
$$
D_1\times D_2\times \dots \times D_n=\{(d_1,d_2,\dots,d_n)|d_i\in D_i,i=1,2,\dots, n\}
$$
笛卡尔积的每个元素$(d_1,d_2,\dots,d_n)$称为一个$n$元组，简称**元组**。笛卡尔积可表示为一个$\displaystyle\left(\prod_{i=1}^n |D_i|\right)\times n$的二维表，每行表示一个元组，每列表示一个域。

**关系**（relation）：$D_1\times D_2\times \dots\times D_n$的子集叫作在域$D_1,D_2, \dots,D_n$上的关系，表示为$R(D_1,D_2,\dots,D_n)$。其中：$R$为*关系名*，$n$为关系的目或*度*（degree）。
- 表示：可表示为一个$m\times n$的二维表，其中$1\le m\le \displaystyle\prod_{i=1}^n |D_i|$。
- 码键：
	- *候选码*（candidate key）：能唯一标识一个元组的属性组合。
	- *主码*（primary key）：被选定用于标识元组的候选码
	- *主属性*（primary attribute）：被至少一个候选码包含的属性。不包含于任何候选码的属性称为*非主属性*。
	- *全码*（all-key）：关系模式的所有属性都是主属性。

### 关系操作

常用关系操作：
- 增（insert）、删（delete）、改（update）
- 查（query）：
	- 5类基本操作：选择（select）、投影（project）、并（union）、差（except）、笛卡尔积（produce）
	- 扩展操作：连接（join）、除（divide）、交（intersect）

### 关系完整性

3类完整性约束：
- 实体完整性（entity integrity）：以主码作为唯一性标识，主属性不能为空值
- 参照完整性（referential integrity）：外码
- 用户自定义完整性（user-defined integrity）：反映某一具体应用所涉及的数据必须满足的语义要求

### 关系代数

#### 选择运算

选择运算：从关系$R$中选取使逻辑表达式$F$为真的元组。运算只针对行，不会影响列。

例如：查询所有计算机系的学生：$\sigma_{dept='CS'}(Student)$。

![[Pasted image 20240202125955.png]]

#### 投影运算

投影运算：选取原关系的部分列，组成一个新的关系。运算可能会因为取消了部分主属性列，而去除部分重复的行（因为元组不允许重复）。

例如：取全体学生的姓名和院系信息：$\pi_{name,dept}(Student)$。

![[Pasted image 20240202130341.png]]

#### 并运算、差运算、交运算



#### 连接运算、笛卡尔积运算

#### 除运算

## SQL

