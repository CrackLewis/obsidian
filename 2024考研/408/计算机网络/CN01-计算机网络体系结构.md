
## 主要内容

- 计算机网络概述
	- 概念、组成、功能
	- 分类
	- 性能指标
- 计算机网络体系结构和参考模型
	- 分层结构；网络协议、服务、接口的概念
	- ISO/OSI参考模型和TCP/IP模型

## 计算机网络概述

### 计算机网络的概念

**广义观点**：
能实现远程信息处理的系统，或能进一步达到资源共享的系统，都是计算机网络。

**资源共享观点**：
以能够相互共享资源的方式互连起来的自治计算机系统的集合。
三层含义：
- 目的：资源共享。
- 组成单元：分布在不同地理位置的多台独立的自治计算机。
- 网络协议：网络内的计算机遵循一些统一规则。

**用户透明性观点**：
网络类似于一台超级计算机，为用户自动管理资源，能够调用用户所需要的资源，对用户是透明的。

### 计算机网络的组成

**根据组成部分进行分类**：
- 硬件：主机（端系统）、通信链路（双绞线、光纤）、交换设备（路由器、交换机）、通信处理机（网卡）等。
- 软件：网络操作系统、邮件收发程序、FTP、聊天程序等。
- 协议：网络传输数据时遵循的规范。

**根据工作方式进行分类**：
- 边缘部分：主要是用户主机，负责通信和资源共享。
- 核心部分：主要是网络和连接网络的路由器，负责连通性和交换服务。

**根据功能组成进行分类**：
- 通信子网：传输介质、通信设备、网络协议，功能为传输、交换、控制、存储。
- 资源子网：资源共享设备及其软件，提供软硬件和数据资源。

### 计算机网络的功能

- 数据通信
- 资源共享
- 分布式管理
- 提高可靠性
- 负载均衡

### 计算机网络的分类

**按分布范围分类**（\*AN：??? area network）：
- 广域网（WAN）：又称远程网，省份或国家级。
- 城域网（MAN）：半径5-50km，市级。
- 局域网（LAN）：半径数十到数千米，居所级。
- 个人区域网（PAN）：无线个人局域网，半径约10m。

**按传输技术分类**：
- 广播式网络：所有设备共享一个公共通信信道。
- 点对点网络：每条物理线路连接一对主机。

**按拓扑结构分类**：
- 总线形网络：单根传输线连接所有设备。
	- 优点：建网和增减节点简单。
	- 缺点：重负载时通信效率低，总线对故障敏感。
- 星形网络：每个终端或计算机通过单独的线路连接中央设备。
	- 优点：便于集中控制和管理。
	- 缺点：成本高、中央设备对故障敏感。
- 环形网络：所有计算机接口设备连接成一个环。
- 网状网络：每个结点有至少两条路径与其他结点相连。
	- 优点：可靠性高。
	- 缺点：控制复杂、线路成本高。

**按使用者分类**：
- 公用网：电信公司出资建造的大型公用网络，一般需要付费。
- 专用网：某个部门根据业务需求建造的网络，一般不对外。

**按交换技术分类**：
- 电路交换网络：建立专用数据通路，通信分建立连接、传输数据、断开三个阶段。
	- 优点：数据直接传送、时延小。
	- 缺点：线路利用率低、差错控制不便。
- 报文交换网络（存储-转发网络）：用户数据加辅助信息，封装为在结点间传输的报文。整个报文先到达相邻结点，全部存储后查转发表，转发到下一个结点。
	- 优点：可充分利用线路容量，可实现不同链路间不同数据传输速率的转换、格式转换、一对多和多对一访问、差错控制。
	- 缺点：增大资源开销，增加了缓冲时延，缓冲区难于管理，需要额外的控制机制确保报文顺序。
- 分组交换网络（包交换网络）：数据分为定长数据块，数据块封装成分组（包），通过存储-转发方式传输。
	- 优点：存储-转发网络的优点，另外：缓冲易于管理，包的平均时延更小。
	- 缺点：存储-转发网络的缺点。
	- 地位：现在的主流网络。

![[Pasted image 20230617194547.png]]

**按传输介质分类**：
- 有线网络：双绞线网络、同轴电缆网络等
- 无线网络：蓝牙、微波、无线电等。

### 计算机网络的标准化工作

2023版大纲删除了此考点。如果2024版大纲加回来，参考王道书P5的下列内容。
![[Pasted image 20230617164512.png]]

### 计算机网络的性能指标

**本节是重点，和后面的物理层、数据链路层直接挂钩。**

各类指标：
- **带宽**：
	- 通信上：通信线路允许通过的信号频带范围，单位Hz。
	- 网络上：通信线路的最高数据传输速率，单位比特每秒（b/s）。
- **时延**：数据（报文或分组）从网络的一端到另一端所需总时间。
	- 发送时延：结点将分组的所有比特推到链路上的时间。
		- 计算公式：**发送时延=分组长度/信道宽度**
	- 传播时延：一个比特从链路的一端到另一端的时间。
		- 计算公式：**传播时延=信道长度/电磁波传播速率**
	- 处理时延：数据在交换结点的转发耗时。
	- 排队时延：分组在进入路由器后在输入队列中排队耗时。
	- 总时延计算公式：**总时延=发送时延+传播时延+处理时延+排队时延**
- **时延带宽积**：发送端第一个比特到达终点时，已经发出了多少个比特，又称以比特为宽度的链路长度：**时延带宽积=传播时延\*信道带宽**。
- **往返时延**：从发送端发出一个短分组，到发送端收到来自接收端的确认，总共经历的实验。
- **吞吐量**：单位时间通过某个网络（信道、接口）的数据量，受带宽和额定速率的限制。
- **速率**：连接到计算机网络上的主机在数字信道上传送数据的速率，也称数据传输速率、数据率或比特率，基本单位比特每秒（b/s）。最高传输速率称为带宽。
- **信道利用率**：某一信道有数据通过的时间百分比。
	- 计算公式：**信道利用率=有数据通过时间/总时间**。
	- 信道利用率并非越高越好。网络时延$D$、空闲时时延$D_0$和信道利用率$U$近似满足$D=\dfrac{D_0}{1-U}$，当$U$超过50%时，时延会急剧增加。
- **丢包率**：分组丢失率。
	- 类别：接口丢包率，结点丢包率，链路丢包率，路径丢包率，网络丢包率。
	- 情形：因为传输误码被丢弃，在某个队列已满的交换机被丢弃。

## 计算机网络体系结构和参考模型

### 计算机网络分层结构

网络的体系结构：计算机网络各层及其协议的集合。

网络的分层原则：
- 每层实现的功能相对独立，降低系统复杂度。
- 各层之间界面清晰自然，易于理解，相互交流尽可能少。
- 各层功能的精确定义独立于具体的实现方法，可以采用最合适的技术实现。
- 保持下层对上层的独立性，上层单向使用下层提供的服务。
- 整个分层结构应能促进标准化工作。

分层结构的相关概念：
- 第x层：从低往高数第x层。第一层通常是物理层。
- 实体：某个层内的元素。
- 对等层：不同设备上的同一层。
- 对等实体：两个对等层内的两个实体。

网络报文的一般结构：
- 协议数据单元（PDU）：对等层次间传送的数据单位。
	- 组成：PDU=SDU+PCI
	- 各层对PDU的称谓：物理层（比特）、数据链路层（帧）、网络层（分组）、传输层（报文段）
- 服务数据单元（SDU）：为完成用户所要求功能而应传送的数据。
- 协议控制信息（PCI）：控制协议操作的信息。

![[Pasted image 20230617181916.png]]

层次结构的含义：
- 第n层的实体使用第n-1层的服务实现自身定义的功能，并向第n+1层提供本层服务。
- 最低层只提供服务，是整个层次结构的基础；最高层向用户提供服务；其他层是服务的使用者和提供者。
- 上一层通过邻层接口使用下一层的服务，不能调用其他层的服务，下层服务细节对上层透明。
- 两台主机通信时，对等层在逻辑上有一条直接信道，表现为不经过下层就把信息传送到对方。

### 计算机网络协议、接口、服务

**网络协议**：
- 定义：为进行网络中的数据交换建立的规则、标准、约定，控制两个对等实体间的数据传送。
- 组成：
	- 语法：数据的传输格式。
	- 语义：所要完成的功能，发送的信息，完成的动作和应答。
	- 同步：执行各种操作的条件、时序关系等。
- 基本功能：线路管理（建立、释放连接）、差错控制、数据转换

**网络接口**：
同一结点内相邻两层间交换信息的连接点，是一个系统内部的规定。

**网络服务**：
- 定义：下层为紧邻的上层提供的功能调用。
- 服务原语：上层使用下层服务时，与下层的命令交换。
	- 类别：请求、指示、响应、证实。
- 分类：
	- 面向连接服务与无连接服务
	- 可靠服务与不可靠服务
	- 有应答服务与无应答服务

网络协议、接口、服务的关系：
![[Pasted image 20230617182902.png]]

### ISO/OSI参考模型

定义：ISO提出的开放系统互连参考模型（OSI/RM）

![[Pasted image 20230617192828.png]]

**物理层**：
- 传输单位：比特
- 功能：在物理媒体上为数据端设备透明地传输比特流。
- 协议：物理层接口标准（也称规程）
- 研究内容：
	- 通信链路与结点电路接口的参数：机械形状、尺寸、交换电路数量、排列。
	- 通信链路信号的意义和电气特征。

**数据链路层**：
- 传输单位：帧
- 功能：成帧、差错控制、流量控制、传输管理。
- 协议：SDLC、HDLC、PPP、STP、帧中继等。
- **介质访问子层**：共享信道访问的控制

**网络层**：
- 传输单位：数据报
- 功能：把网络层的协议数据单元从源端发送到目的端，为分组交换网上的不同主机提供通信服务。
- 协议：IP、IPX、ICMP、IGMP、ARP、RARP、OSPF。
- 研究内容：
	- 通信子网的运行控制
	- 分组的路由选择、流量控制、拥塞控制、网际互连等

**传输层**：
- 传输单位：报文段（TCP）或用户数据报（UDP）
- 功能：负责主机内两个进程的通信，为端对端连接提供可靠的传输服务、流量控制、差错控制、服务质量、数据传输管理等服务。
- 协议：TCP、UDP。

**会话层**：
- 功能：为进程通信提供增值服务，为表示层实体或用户进程建立连接并在连接上有序传输数据。
- 研究内容：会话进程（建立、管理、终止），建立同步

**表示层**：
- 功能：处理在两个通信系统中交换信息的表示方式。不同机器的编码和表示方法不同，使用的数据结构也不同。
- 研究内容：编码形式、数据压缩、加密和解密等

**应用层**：
- 功能：为特定类型的网络应用提供访问OSI参考模型环境的手段。
- 协议：包括但不限于FTP、HTTP、SMTP等

### TCP/IP模型

四层结构：
- 网络接口层：类似于OSI物理层和数据链路层，表示与物理网络的接口。
- 网际层：类似于OSI网络层，采用IPv4协议作为标准分组格式和协议。
- 传输层：类似于OSI传输层。
	- 传输控制协议（TCP）：面向连接，交付可靠。
	- 用户数据报协议（UDP）：无连接，不保证可靠交付。
- 应用层：面向用户的应用协议。

![[Pasted image 20230617192843.png]]

与OSI参考模型的比较：
- 相似点：都采取分层体系结构，都基于独立的协议栈，都可以解决异构网络的互连。
- 不同点：
	- OSI参考模型区分了服务、协议、接口，而TCP/IP模型没有。
	- OSI参考模型是协议无关的，而TCP/IP协议是与IP协议高度耦合的。
	- TCP/IP模型考虑了多种异构网的互连问题，认为网际协议是一个重要层次，而OSI模型最初没有考虑。
	- TCP/IP模型认为可靠性是端到端的问题，故在传输层支持面向连接和无连接协议；OSI模型认为可靠性是网络层的内容，故其支持在网络层。

![[Pasted image 20230617192857.png]]

## 小结和疑难点
