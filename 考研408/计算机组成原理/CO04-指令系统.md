
## 框架

- 指令系统
	- 指令的基本格式
	- 定长操作码指令格式
	- 扩展操作码指令格式
	- 指令的操作类型
- 指令的寻址方式
	- 指令寻址和数据寻址
	- 常见的数据寻址方式
- 程序的机器级代码表示
- CISC和RISC的基本概念

## 指令的寻址方式

![[Pasted image 20230925192826.png]]

## 程序的机器级代码表示（x86）

### 寄存器组

- 通用寄存器：EAX、EBX、ECX、EDX、ESI、EDI、EBP、ESP
- 标志寄存器：EFLAGS
- 指令寄存器：EIP
- 段寄存器：CS、DS、SS、ES、FS、GS
- 控制寄存器：CR0（CPU控制）、CR2（页错误地址）、CR3（页目录地址寄存器）、CR4（当前任务）
- 调试寄存器：DR0-DR7
- 描述符寄存器：GDTR、LDTR、IDTR
- 任务寄存器：TR
- 模型特定寄存器

## 选择题整理-非真题

### 4.1-指令系统

![[Pasted image 20230925171350.png]]

5题选C。中断隐指令是硬件指令。

![[Pasted image 20230925171411.png]]

7题选C。基于堆栈的零地址指令一般是向栈压入一个数，或是弹出一个数。所以操作数一般来源于栈顶的两个数。

8题选B。即使是单地址指令也可能由于单地址的寻址方式不同而导致指令长度不同。

9题选B。不指明第二个操作数，而是隐含在指令中的寻址方式称为隐含寻址。

### 4.2-指令的寻址方式

![[Pasted image 20230926091214.png]]

1题选B。采用不同寻址方式可以缩短指令字长，扩大寻址空间，提高编程的灵活性。

![[Pasted image 20230926091251.png]]

10题选D，易错选C。注意取指阶段，PC已经变为下一条指令的地址，所以译码和执行阶段使用的是以**下条指令**在内存中首地址为基准位置的偏移量。

![[Pasted image 20230926092814.png]]

14题选B。指令寄存器的位数不一定等于机器字长，但一定等于指令字长。程序计数器的位数一般取存储器的字数。

![[Pasted image 20230926094802.png]]

16题选A。注意题目问的是操作数的有效地址，而非操作数本身，所以查8号寄存器的值即可。

### 4.3-程序的机器级代码表示

### 4.4-CISC和RISC

## 选择题整理-真题

![[Pasted image 20230925172355.png]]

15题选B。加法器的进位方式不是体系结构规定的内容，属于电路设计内容。

![[Pasted image 20230926095913.png]]
![[Pasted image 20230926095923.png]]

26题选B。注意double变量占据8个字节。

27题选D。

28题选A。需要注意两点：
- 指令需要6位操作码字段和2位**寻址特征位**。
- 主存地址不能为负，所以可寻址范围是`0~255`。

## 大题整理

### 2010：双地址指令系统

![[Pasted image 20230926100941.png]]

第一问，最多16条指令。最多8个通用寄存器。MAR至少需要16位，MDR至少需要16位。

第二问，0000H\~FFFFH。

第三问，二进制表示为0010 001 100 010 101B，十六进制表示为2315H。该指令执行后，R5会改变，首先是自增，其次是存储和R4相加的结果：R5=5679H，R5=(R5)+(R4)=68ACH。（自增结果被覆盖）

### 2013：

![[Pasted image 20230926100957.png]]

### 2015：

![[Pasted image 20230926101018.png]]

### 2021：

![[Pasted image 20230926101035.png]]
![[Pasted image 20230926101046.png]]

