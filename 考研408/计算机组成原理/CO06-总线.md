
## 框架

- 总线概述
	- 基本概念
	- 总线分类：片内总线、系统总线（数字、地址、控制）、I/O总线、通信总线
	- 系统总线的结构：单总线结构、双总线结构、三总线结构
	- 常见的总线标准
	- 总线的性能指标
- 总线事务和定时
	- 总线事务
	- 同步定时方式
	- 异步定时方式

## 常见的总线标准

- ISA：工业标准体系结构
- EISA：扩展的ISA
- VESA：视频电子标准协会
- PCI：外部设备互连
- AGP：加速图形接口
- PCI-E：扩展的PCI，也取代AGP
- RS-232C：一种串行通信总线
- USB：通用串行总线
- PCMCIA：个人电脑内存卡国际协会
- IDE：集成设备电路
- SCSI：小型计算机系统接口
- SATA：串行高级技术附件

**局部总线**：PCI、PCI-E、AGP。

**系统总线**：ISA、EISA。

## 总线的性能指标

- 总线传输周期：一次总线操作所需的时间，一般包含若干个总线时钟周期。
- 总线时钟周期：即机器的时钟周期。
- 总线工作频率：1/总线传输周期。
- 总线时钟频率：1/总线时钟周期。
- 总线宽度：总线可同时传输的数据位数。
- 总线带宽：总线的最大数据传输率。
- 总线复用
- 信号线数

## 总线事务

- 请求阶段
- 仲裁阶段
- 寻址阶段
- 传输阶段
- 释放阶段

## 同步定时方式和异步定时方式

**同步定时方式**：系统用统一时钟协调收发双方的传送定时关系。
- 优点：逻辑简单，传输速率高。
- 缺点：可靠性较差。

**异步定时方式**：完全依靠双方制约的握手信号来实现定时控制。
- 优点：总线周期长度可变，部件兼容性强。
- 缺点：控制方式复杂，速度较慢。
- 分类：
	- 不互锁方式：主设备请求后，不等回答；从设备回答后，自动撤销。
	- 半互锁方式：主设备请求后等回答；从设备的回答仍是自动撤销。
	- 全互锁方式：主设备请求后等回答；从设备回答后等请求撤销。

![[Pasted image 20230930195713.png]]

## 选择题整理-非真题

### 6.1-总线概述

![[Pasted image 20230930200121.png]]

2题选A。获得总线控制权的只能是主设备，不能是从设备；同一时间控制传输操作的只能有一个主设备。

![[Pasted image 20230930200133.png]]

6题选A。能够回传访存结果的只有数据总线。

![[Pasted image 20230930200142.png]]

8题选C。注意三总线结构指的是DMA、主存和I/O总线。B项三者都属于系统总线。

9题选A。**总线复用方式**描述了多个信号在同一信道上分时传输的方式。

![[Pasted image 20230930200202.png]]

18题选D。ISA是系统总线。

### 6.2-总线事务和定时

![[Pasted image 20230930205852.png]]

1题选C。采用哪一种控制方式一般没有明确限制，但对速度不匹配的设备采用同步控制方式会影响传输效率。

2题选D。本题传输的字符是题目中所述的10b字符，而不是传统的1B字符，所以选D。

![[Pasted image 20230930210123.png]]

6题选D。异步传送操作没有统一的控制结构，而是由双方制约的。

![[Pasted image 20230930210251.png]]

9题选B。护士会等待医生握紧手术刀，说明从设备会等待主设备，只有全互锁方式满足此要求。

## 选择题整理-真题

![[Pasted image 20230930200214.png]]

22题选C。**突发传输方式**指只提供一个地址便可传输数个连续数据的总线传输方式。这种传输方式下，需要花1个周期传送地址，4个周期传送数据，总共50ns。

![[Pasted image 20230930200233.png]]

24题选B。PCI、PCI-E、AGP都是局部总线。

25题选B。不要考虑传输地址对数据传输率的影响，根据每个周期传送两次数据（8B）分析得知，1s内的最大数据传输率是528MB/s。

![[Pasted image 20230930201451.png]]

29题选D。PCI-E总线采用串行数据包传输数据。

30题选B。地址/数据线复用只是一种节省硬件资源的手段，而不是提高数据传输率的手段。

![[Pasted image 20230930201502.png]]

32题选C。不要被其他信息干扰，关注QPI总线带宽计算公式即可，每秒传送次数为4.8G次，带宽为19.2GB/s。

