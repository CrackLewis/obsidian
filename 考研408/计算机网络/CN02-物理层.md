
## 主要内容

- 通信基础
	- 信道、信号、带宽、码元、波特、速率、信源、信宿等基本概念
	- 奈奎斯特定理、香农定理、编码与调制
	- 电路交换、报文交换、分组交换、数据报和虚电路
- 传输介质
	- 双绞线、同轴电缆、光纤与无限传输介质
	- 物理层接口的特性
- 物理层设备
	- 中继器
	- 集线器

## 通信基础

### 基本概念

数据、信号和码元：
- **数据**：传送信息的实体。
	- 模拟数据：连续变化的数据。
	- 数字数据：离散变化的数据。
- **信号**：数据的电气或电磁表现，在传输过程中的存在形式。
	- 模拟信号：连续变化的信号。
	- 数字信号：离散变化的信号。
- **码元**：用一个固定时长的信号波形（数字脉冲）表示一位$k$进制数字，代表不同离散数值的基本波形，是数字信号的计量单位，称 **$k$进制码元** ，对应的固定时长称为**码元宽度**。

信源、信道和信宿：数据通信系统的三部分。
- 数据通信：数字终端之间的通信。
- **信源**：产生和发送数据的源头。
- **信道**：系统内信号的传输媒介，物理线路的逻辑部件。
	- 发送信道、接收信道
	- 噪声：外界因素对信道内信号的干扰。
- **信宿**：接收数据的终点，通常是计算机或其他数字终端装置。

信道分类：
- 按交互方式分类：
	- **单向通信**：只有一个方向的通信。
	- **半双工通信**：可以收发，但不能同时进行。
	- **全双工通信**：可以同时收发。
- 按信号形式分类：
	- 模拟信道：传输**宽带信号**（调制基带信号为频分复用模拟信号）
	- 数字信道：传输**基带信号**（调制数字信号为电平信号）

![[Pasted image 20230619144306.png]]

速率、波特、带宽：
- **速率**（数据率）：信道内实时的数据传输速率，表示单位时间传输的数据量。
	- **码元传输速率**（波特率、调制速率、波形速率、符号速率）：单位时间传输的码元数，单位**波特**（Baud）表示一秒传输多少个码元。
	- **信息传输速率**（比特率、信息速率）：单位时间传输的比特数，单位b/s。
- **带宽**：网络的两点间的最高数据率，单位b/s。
	- 通信系统的带宽：信号具有的频带宽度，单位Hz。

### 奈奎斯特定理和香农定理

**奈奎斯特定理**（奈氏准则，Nyquist's theorem）：
- 背景：信号的高频分量往往无法通过信道，否则会由于衰减导致收到的信号失去码元界限，称作**码间串扰**。
- 内容：在理想低通（没有噪声、带宽有限）的信道中，为了避免码间串扰，极限码元传输速率为$2W$波特，其中$W$是理想低通信道的带宽。
- 公式表示：$K_n=2W\log_2 V$。
	- $V$表示每个码元离散电平的数目（不同码元的个数），$\log_2 V$表示码元的位数。
- 结论：
	- 任何信道中码元传输速率都有上限，这个上限确保不会出现码间串扰问题。
	- 信道的频带越宽，就可用更高的速率进行码元的有效传输。
	- 奈氏准则给出了码元传输速率的限制，但未限制信息传输速率。

**香农定理**（Shannon's theorem）：
- 内容：实际信道的带宽往往是受限的，也会有高斯白噪声干扰，要保证不因高斯噪声误差，对信道的数据传输速率有额外的限制。
- 公式表示：$K_s=W\log_2 (1+\dfrac{S}{N})$。
	- $W$表示带宽。
	- $S$表示信道传输信号的平均功率，$N$是信道内高斯噪声功率，$\dfrac{S}{N}$表示**信噪比**。
- 结论：
	- 对一定的传输带宽和一定的信噪比，信息传输速率的上限是确定的；信道内的带宽或信噪比越大，则极限传输速率越高。
	- 只要信息传输速率低于信道的极限传输速率，则*有可能*找到无差错传输的方法。
	- 香农定理只是给出一个极限的信息传输速率，而实际信息速率远低于这个值。

### 编码和调制

**编码**：数据->数字信号。
**调制**：数据->模拟信号。

#### 数字数据编码为数字信号

![[Pasted image 20230619152152.png]]

**归零编码**（RZ）：
- 前半个周期的电平表示二进制数据
- 每个时钟的中间，无论当前电平如何都跳变至低电平
- 接收方通过跳变调整本方时钟基准，为传输提供自同步机制
- 带宽受到跳变机制的一定影响

**非归零编码**（NRZ）：
- 整个周期的电平表示二进制数据
- 全周期不归零
- 无法传递时钟信号，难于同步，如果想要高速传输，则需要额外的时钟线

**反向非归零编码**（NRZI）：
- 不通过电平，而通过周期开始电平是否跳转表示二进制数据
- 翻转表示0，不翻转表示1
- 既能传输时钟信号，又降低了带宽损失
- 应用：USB 2.0

**曼彻斯特编码**（Manchester Encoding）：
- 将一个码元分为两个相等间隔，用固定的码元表示二进制数据的0和1
	- 0：前低后高
	- 1：前高后低
- 位中的跳变提供了同步机制，但也占用了两倍的带宽
- 应用：以太网

**差分曼彻斯特编码**：
- 与曼彻斯特编码相比，码元与前一码元的异同，而非码元本身，表示1和0
	- 初始为码元0
- 自同步机制，抗干扰性好

**4B/5B编码**：
- 将二进数据流按每4位一组编组，每组按照4B/5B编码规则转换为对应的5位码元。码元中只有16种表示数据，剩下16种为控制用途。
- 功能相较其他编码更强

#### 数字数据调制为模拟信号

**幅移键控**（ASK）：
- 原理：仅改变载波信号的振幅表示0/1
- 特点：容易实现，抗干扰性差

**频移键控**（FSK）：
- 原理：仅改变载波信号的频率表示0/1
- 特点：容易实现，抗干扰能力强，应用较广泛

**相移键控**（PSK）：
- 原理：仅改变载波信号的相位表示0/1
- 绝对调相、相对调相

**正交振幅控制**（QAM）：
- 原理：在频率相同的前提下，结合ASK和PSK，形成叠加信号。设波特率为$B$，采用$m$个相位，每个相位有$n$种振幅，则QAM技术的数据传输速率$R=B\log_2{(mn)}$。

![[Pasted image 20230619154615.png]]

#### 模拟数据编码为数字信号

**脉码调制**（PCM）：
- 采样：
	- 采样定理：采样频率不低于最大频率的两倍，才能保证采样后的数字信号完整保留原始模拟信号的信息。
	- 细节：对模拟信号周期性扫描，把时间上连续的信号变为时间上离散的信号。
- 量化：将采得的电平幅值按照一定的分级标度转化为对应的整数值。
- 编码：将量化的结果进行二进制编码。

#### 模拟数据调制为模拟信号

**频分复用**（FDM）：略

### 电路交换、报文交换和分组交换

#### 电路交换

在用电路交换技术通信前，数据传输的两个端点必须建立一条专用的物理通信路径；在通信全程，该路径被占用，且要保持通畅；在通信结束后，该路径的资源被释放。

数据交换单位：比特

三个阶段：连接建立、数据传输、连接释放。

技术优点：
- 通信时延小
- 有序传输：没有失序问题
- 没有冲突
- 适用范围广：适用于模拟信号和数字信号
- 实时性强
- 控制简单

技术缺点：
- 建立连接时间长
- 线路独占，使用效率低
- 灵活性差：路径上任何一点中断都将影响通信
- 难以规格化：不同规格的中断难于相互交互

#### 报文交换

通信双方的数据以报文形式体现，报文包括源地址、目标地址等信息。报文在通信路径上的各结点采用存储转发方式：节点会先完整存储整个报文，再发出去。

技术优点：
- 无须建立连接
- 动态分配线路
- 提高线路可靠性
- 提高线路利用率
- 提供多目标服务

技术缺点：
- 会为网络结点引入转发时延：接收报文、检验正确性、排队、发送时间
- 对网络结点的缓存空间要求大

#### 分组交换

与报文交换一样使用存储转发方式，但限制了每次传送的数据块大小的上限，加上一些控制信息，组成一个分组（Packet）。网络结点根据控制信息存储并转发分组，分组经由路径上各结点不断转发到达目标地址。

技术优点：
- 无建立时延：无需提前建立线路
- 线路利用率高：通信双方不是固定占有线路，而是在不同的时间一段一段地部分占有物理通路。
- 简化了存储管理：？
- 加速传输：分组是逐个传输的，分组间的存储、转发有并发空间；缓冲区要求低，降低排队成本。
- 减少了出错概率和重发数据量：分组较短，出错率较低，降低出错的重传成本。

技术缺点：
- 存在存储转发时延：要求结点交换机有更强的处理能力。
- 需要传输额外的信息量：每个小数据块都要添加控制信息，增加处理时间，降低通信效率。
- 引入了分组失序、丢失、重复问题，通过虚电路方式可以避免失序问题，但会引入额外成本

#### 比较

![[Pasted image 20230619181137.png]]

- 电路交换：数据量很大、传送时间远大于呼叫时间
- 分组交换：端到端的通路由多段链路组成

### 数据报和虚电路

分组交换的两种方式。

#### 数据报（无连接）

原理：
- 发送方将分组发给直连发送方的交换结点，交换结点缓存分组
- 交换结点查转发表，将分组发给表内登记的对应结点
- 其他结点收到分组后，类似地转发分组，最后到达接收方

特点：
- 不需要连接
- 网络尽最大努力交付，不保证可靠，不保证分组间有序
- 分组必须包含发送端和接收端完整地址
- 分组在存储转发时需要排队，会引入转发时延，且可能因为结点繁忙被丢弃
- 网络的冗余路径可以提供健壮性
- 存储转发延时较小，提高吞吐量
- 收发双方不独占链路，资源利用率高

![[Pasted image 20230619183352.png]]

#### 虚电路（面向连接）

原理：
- 虚电路建立：在通信前，发送端和接收端之间建立一条虚电路
	- 选择一个新的虚电路号分配给虚电路
	- 每个网络结点维护一张虚电路表，每项记录一个打开的虚电路信息（发送和接收电路编号、前后结点的地址）
- 数据传输：
	- 传输的分组需要记录虚电路号，而不是目的地址
- 虚电路释放

特点：
- 通信链路的建立和拆除需要额外开销：对小量短分组和交互式应用效率较低
- 路由选择仅体现在虚电路的建立阶段
- 虚电路提供了可靠的双向通信功能
- 虚电路的弱点：任何一个结点失效都将破坏整个电路
- 分组首部不包含完整目的地址，可略微降低开销

![[Pasted image 20230619184849.png]]

#### 比较

- 连接的建立：数据报不需要，虚电路需要
- 目的地址：数据报需要完整地址，虚电路只需要虚电路号
- 路由选择：数据报是独立路由选择，虚电路是统一路由转发
- 分组顺序：数据报不保证，虚电路保证
- 可靠性：数据报由用户主机保证，虚电路由网络保证
- 故障适应性：数据报较强，虚电路较弱
- 差错处理和流量控制：数据报由用户主机控制，虚电路由分组交换网负责

## 传输介质

传输介质：数据传输系统中发送设备和接收设备间的物理通路。

### 双绞线、同轴电缆、光纤和无线传输介质

#### 双绞线

由两根采用一定规则并排绞合的、相互绝缘的铜导线组成。
绞合的目的是减少对相邻导线的电磁干扰。

分类：
- **屏蔽双绞线**：双绞线外有一层金属丝组成的屏蔽层。
- **非屏蔽双绞线**：无屏蔽层的双绞线。

特点：
- 便宜，最常用
- 带宽取决于线的粗细、传输距离
- 远距离传输要用放大器（放大衰减信号）和中继器（整形失真信号）

![[Pasted image 20230619185809.png]]

#### 同轴电缆

由内导体、绝缘层、网状编织屏蔽层、塑料外层组成。

分类：
- **基带同轴电缆**：50Ω，常用于局域网
- **宽带同轴电缆**：75Ω，常用于有线电视

特点：抗干扰性更佳，传输速率更高，但也更贵。

![[Pasted image 20230619190042.png]]

#### 光纤

利用光导纤维传递光脉冲通信，由高折射率的纤芯和低折射率的包层组成，光在光纤内全反射向前传播。

分类：
- 单模光纤：直径只有一个光的波长的光纤。
- 多模光纤：直径较大，能让数条不同角度光线同时传输的光纤。

特点：
- 传输损耗小，中继距离长，便于远距离传输信号
- 抗雷电和电磁干扰性能好
- 无串音干扰，保密性好
- 体积小，重量轻

#### 无线传输介质

类别：
- 无线电波：穿透力强
- 微波、红外线和激光：频段范围宽

### 物理层接口的特性

与传输媒体接口有关的特性：
- 机械特性：接口所用接线器的形状尺寸、引脚数目和排列、固定和锁定装置等
- 电气特性：接口电缆各线的电压范围
- 功能特性：各条线上各个电压的含义
- 过程特性（规程特性）：对于不同功能的各种可能事件的出现顺序。

## 物理层设备

### 中继器

主要功能：信号整形、放大、再转发。

目的：消除信号在长距离传输后的失真和衰减，扩大网络传输的距离。

特点：
- 有两个口：一个入口，一个出口。
- 最廉价的网络扩大互连设备，两端是同一个网络。
- 理论上可以无限串联，但很多标准中规定：串联不能超过4个，且4个中继器串联的5段通信介质中只有3段可以挂接计算机，其余两端只能用作扩展链路段，不能挂接计算机，称作“**5-4-3原则**”。

### 集线器

特点：
- 有多个端口，不区分输入和输出。
- 半双工性质：一个端口的输入会转发到其余所有端口，输入不能冲突。
- 是比较灵活的组网设备。