
## 1-continuous monitoring of maximum clique over dynamic graphs

*maximum clique problem* (MCP): given a simple undrct' graph $G$, return the maximum clique in $G$.

### sec01-intro

a naive sol': maintain all maximal cliques and return the largest one among them

conventional static MCP sol's:
- *PMC*: state-of-the-art approach
	- firstly, use a heuristic procedure to find a *seed* (a large clique denoted by $H$) based on core number
	- vtx's with core number lower than $|H|$ are pruned early
	- branch is bounded by a composite measure integrating k-core, graph coloring and branch size

seed acquisition in dyn' graphs:
- greedy approach: size not sufficient enough, computationally expensive
- observation:
	- the previous maximum clique $C_{\max}$ can generate a decent seed $H$ with low cost, such that $|C_{\max}|-1\le |H|\le |C_{\max}|$.
- *refreshing*: invocation of PMC to find a maximum clique based on $H$
	- called if necessary

contrib' in this paper:
- tight bound on $\omega(G')$, effn't seed acquisition from prev' maximum clique
- subtle strat' to reduce refreshing rate
- reduce refreshing overhead by reducing searching space
- new approach and analysis

### sec02-related work

MCP studies:
- exact methods: give a globally correct answer, usually utilizing branch-and-bound algo's
	- two issues: seed must be large enough; branch must be tightly bound
	- balanced partitioning: partition graph into smaller subgraphs and solve them under Map-Reduce framework
- approx' methods: give suboptimal answers
	- randomized maximum clique (*RMC*)

MCE and incremental algo' studies: P3/15

### sec03-preliminaries

- maximal clique: locally biggest clique
	- maximal clique set $\{C_i\}$
- maximum clique: globally biggest clique
	- maximum clique size $\omega(G)$
- neighbor set ($N(v,G)$)
- family set ($F(S,G)$)
- graph coloring: vtx' coloring so no adjacent vtx's share the same color
	- vtx' color: $v.clr$
	- color number: $L(G)$
- degrees:
	- vtx' degree: $v.dgr$
	- graph largest degree: $\Delta(G)$
- cores:
	- vtx's core number: $v.cre$
	- graph core number: $K(G)$
- special values:
	- $H$: seed
	- $C_{\max}$: maximum clique on graph before update $G$
	- $C_{\text{next}}$: second maximum clique on $G$
	- $C_{\max}'$: maximum clique on graph after update $G'$
	- $C_{\text{maxCha}}'$: second maximum clique on $G'$
	- $\text{maxCha}$: the approx' value of $|C_{\text{maxCha}}'|$

### sec04-basic ideas of the approach

#### 4.1-baseline algo'

essence of baseline algo':
- obtain a largest possible seed at a proper cost, so threshold-based refreshing $MaxClique(G', |H|)$ can work effn'tly
- observe that the previous maximum clique is likely or can generate the current maximum clique

![[Pasted image 20241104191156.png]]

baseline algo's weakness:
- refreshing is very likely to be called in edge deletion
- the seed is not a guaranteed maximal clique
- search space is still large

improvements:
- expand the seed further
- estimate the need to perform refreshing
- improve refreshing strat' to prune search space

#### 4.2-strategy to obtain large seeds

the strat' is to expand $H$ (the seed) till it becomes a maximal clique:
- edge insertion case (*instInit*): 
	- use $C_{\max}$ as $H$, and try to expand $H$ by one vtx'
	- time $O(\Delta(G))$
- edge deletion case (*delInit*): 
	- if $C_{\max}$ is hit by the deleted edge: $H$ is either $C_{\max}-\{u\}$, $C_{\max}-\{v\}$ or $C_{\max}$, depending on if there exists another vtx' $p\in V-H$ adjacent to $H$
	- else: $H$ is $C_{\max}$
	- time $O(\Delta^2(G))$
- $H$ is definitely a maximal clique, and satisfies:
	- $|H|\ge |C_{\max}|$ for insertion case
	- $|H|\ge |C_{\max}|-1$ for deletion case

#### 4.3-analysis on the maximum clique size bound

reason: approx' on core number is not enough

change in $|C_{\max}|$:
- edge insertion (*Theo. 3*): $|C_{\max}|\le |C_{\max}'|\le |C_{\max}|+1$.
	- increases maximum clique size by at most 1
- edge deletion (*Theo. 4*): $|C_{\max}|-1\le |C_{\max}'|\le |C_{\max}|$.
	- decreases maximum clique size by at most 1

observation on $|H|$:
- at edge insertion, $|H|\ge |C_{\max}|$; at edge deletion, $|H|\ge |C_{\max}|-1$
- (*Corol. 1*) when graph updating happens, $|H|\ge |C_{\max}'|-1$.

#### 4.4-optimization sketch

(*Corol. 2*) when graph updating happens, $H$ is the seed found in the initial step. if $|H|=|C_{\max}|+1$ at insertion, or $|H|=|C_{\max}|$ at deletion, $H$ must be a maximum clique on $G$.

comparing $|H|$ with $|C_{\text{maxCha}}'|$ (named *maxCha* alt'ly):
- motives:
	- enlarging $H$ can reduce refreshing rate
	- method based on Corol. 2 is too conservative
- compare $|H|$ with $|C_{\text{maxCha}}'|$. if $|H|\ge |C_{\text{maxCha}}'|$, then it's a maximum clique
	- the smaller maxCha is, the better
- determining maxCha is difficult, so we estimate it using the procedure `maxCha(G', H)`
- estimation of maxCha is conducted under a *lazy growth strategy*

basic strat' to reduce refreshing rate:
- identify $H$ by Corol. 2. if it's a maximum clique, return it
- estimate maxCha by maxCha($G', H$), and compare it with $|H|$. if $|H|$ is no less than maxCha, return it
- *a refreshing must be conducted under the condition*: $H$ cannot be identified using Corol. 2 or reach maxCha

refreshing: 
- global refreshing: a complete invocation of PMC
- local refreshing: confine the search space to vtx's near $H$

*refreshing conditions*:

![[Pasted image 20241105221258.png]]

### sec05-proposed approach

primary concerns:
- reduction of refreshing rate
- reduction of refreshing overhead

#### 5.1-reduction of refreshing rate

why study maxCha variation:
- the lower maxCha means the lower refreshing rate (since it makes $|H|$ easier to outnumber maxCha)

*maxCha variation analysis*:

(*Theo. 5*) when $G$ evolves to $G'$ after inserting $(u,v)$, $|C_{\text{maxCha}}'|\le |C_{\text{next}}|+1$ holds, i.e., the size of the maximum challenger of $C_{\max}$ expands by at most 1.

(*Theo. 6*) if $|C_{\text{maxCha}}'|=|C_{\text{next}}|+1$ when edge $\{u,v\}$ insertion occurs, then: 
- $\{u,v\}\subseteq C_{\text{maxCha}}'$.
- $C_{\text{maxCha}'}\subseteq F(\{u,v\},G')$.

defs: 

![[Pasted image 20241106200751.png]]

forgive me for being lazy :P

(*Theo. 7*) if $|C_{\text{maxCha}}'|=|C_{\text{next}}|+1$ when an insertion occurs, then:
- $E_{\text{size}}(|C_{\text{next}}|)>|C_{\text{next}}|$ holds, where $E_{\text{size}}(|C_{\text{next}}|)$ is size indicator
- $E_{\text{color}}(|C_{\text{next}}|)>|C_{\text{next}}|$ holds, where $E_{\text{color}}(|C_{\text{next}}|)$ is size indicator

*lazy growth strat'*:
- observation: if $\min(E_{size}(k-1),E_{color}(k-1))>k-1$, then edge insertion may generate a challenger of size $k$.
- if $\min(E_{size}(maxCha),E_{color}(maxCha))>maxCha$, maxCha incr' by 1, otherwise it stays unchanged 

post-calculation adjusting of maxCha:
- fact-based: if maxCha outnumbers $|C_{\max}|$ (i.e. $\omega(G)$), then it's replaced by $|C_{\max}|$
- core-bound based: if maxCha outnumbers $K(G')+1$ (which is the bound of $\omega(G)$), then it's replaced by $K(G')+1$

#### 5.2-reduction of refreshing overhead

maxCha-based refreshing condition:
- insertion: $|H|=\omega(G)$, $maxCha=\omega(G)+1$
- deletion: $|H|=\omega(G)-1$, $maxCha=\omega(G)$

class':
- local refreshing: refreshing on a local subgraph
- global refreshing

*local refreshing strat'*:

(*Theo. 8*) 
- if the refreshing cond' is triggered by insertion/deletion of $(u,v)$, and some challenger $C'$ with $|C'|>|H|$ exists, then $|C'|$ must be a maximum clique.
	- specifically if it's an insertion, then $C'$ can be found by traversing $G'(F(\{u,v\},G))$.
	- if it's a deletion, then $C'$ could be found near locations where previous edges were inserted.

*edge buffer*: 
- a data structure to cache previously inserted edges so we can find $C'$ even in refreshing after deletions
- components:
	- $EB.EL$: a list to save the edge whose insertion may generate an $\omega$-sized challenger
	- $EB.vld$: an indicator to find how large a challenger could be found traversing subgraph defined by $EB.EL$
- operations:
	- warm-up: $EB.vld\leftarrow \omega(G)$, $EB.EL$ constitutes of edges randomly selected from maximum cliques except $C_{\max}$ (assuming there are multiple maximum cliques). maxCha is $\omega(G)$ too.
	- edge insertion: