
## 进度

- [x] 全书基础
- [x] 660题
- [x] 张宇30讲
- [x] 高数18讲
- [ ] 张宇1000题

## 张宇30-P128：原函数和定积分的存在性

在区间$[-1,2]$上，说明下列函数是否有原函数，是否有定积分：
- $f_1(x)=\left\{\begin{matrix}2, & x>0,\\ 1,&x=0,\\ -1, & x<0\end{matrix}\right.$
- $f_2(x)=\left\{\begin{matrix}2x\sin \dfrac{1}{x^2}-\dfrac{2}{x}\cos \dfrac{1}{x^2}, & x\neq 0, \\ 0, & x=0\end{matrix}\right.$
- $f_3(x)=\left\{\begin{matrix}\dfrac{1}{x}, & x\neq 0,\\ 0, & x=0\end{matrix}\right.$
- $f_4(x)=\left\{\begin{matrix}2x\cos \dfrac{1}{x}+\sin \dfrac{1}{x}, & x\neq 0,\\ 0, & x=0\end{matrix}\right.$

**思路**：

$f_1(x)$在$x=0$处有跳跃间断点，因此在区间内没有原函数和定积分。

$f_2(x)$在$x=0$处有振荡间断点。通过构造可以构造出$F_2(x)$，使得$F_2'(x)=f_2(x)$：
$$
F_2(x)=\left\{\begin{matrix}
x^2\sin \dfrac{1}{x^2}, & x\neq 0,\\
0, & x=0
\end{matrix}\right.
$$
可见$f_2(x)$有原函数。但由于$f_2(x)$在$x=0$的任一邻域内无界，所以在区间内无定积分。

$f_3(x)$在$x=0$处有无穷间断点，因此不存在原函数和定积分。

$f_4(x)$在$x=0$处有振荡间断点。通过构造可以构造出$F_4(x)$，使得$F_4'(x)=f_4(x)$：
$$
F_4(x)=\left\{\begin{matrix}
x^2\cos \dfrac{1}{x}, & x\neq 0, \\
0, & x=0
\end{matrix}\right.
$$
可见$f_4$有原函数。而$f_4(x)$在$x=0$附近有界，所以在区间内有定积分。

**总结**：
参考[[Z03-一元函数积分学#^de11d1|不定积分存在定理]]的有关内容：
- 连续函数$f(x)$必有原函数$F(x)$。
- 含有第一类间断点和无穷间断点的函数$f(x)$在包含该间断点的区间内无原函数。

含有振荡间断点的函数比较特殊，可能存在原函数也可能不存在。如果原函数存在，则若函数**在闭区间内有界且有有限个振荡间断点**，则定积分也存在。

## 张宇30-P131：原函数的奇偶性

设$f(x)$连续，则下列两个函数中必为偶函数的是：
- $\displaystyle\int_0^x t[f(t)-f(-t)]dt$
- $\displaystyle\int_0^x t[f(t)+f(-t)]dt$

**思路**：
函数$g(x)=x[f(x)-f(-x)]$必为偶函数，$h(x)=x[f(x)+f(-x)]$必为奇函数。因此它们基于$x=0$的变上限积分函数分别为奇函数和偶函数。

因此第二个函数必为偶函数。

**总结**：
当时没转过弯来，选了第一个。

## 张宇30-P131：定积分的保号性

设$f(x)$在$[a,b]$上非负连续，且$f(x)$不恒为零，证明必有$\displaystyle\int_a^b f(x)dx>0$。

**思路**：
根据题意，存在$x_0\in(a,b)$，满足$f(x_0)>0$。

因函数连续，故有$\displaystyle\lim_{x\rightarrow x_0} f(x_0)=f(x_0)>0$，由极限的保号性知，存在$\delta>0$和$\eta>0$，使得当$x_0\in[x_0-\delta,x_0+\delta]$时，恒有$f(x)\ge \eta\ge 0$。

根据定积分的不等式性质，有：
$$
\int_a^b f(x)dx\ge \int_{x_0-\delta}^{x_0+\delta} f(x)dx\ge \eta\int_{x_0-\delta}^{x_0+\delta} dx=2\eta\delta>0
$$

**总结**：
保号性允许进行定量分析，具体是设邻域半径$\delta$和边界宽度$\eta$。

## 张宇30-P132：凑微分法计算不定积分

计算$\displaystyle\int \dfrac{1}{\sqrt{x(1-x)}}dx$。

**思路**：
考虑提出$\sqrt{x}$并拼凑微元$d\sqrt{x}$：
$$
\begin{split}
\int \dfrac{1}{\sqrt{x(1-x)}}dx&=\int \dfrac{2}{\sqrt{1-x}}d\sqrt{x}\\
&=2\int \dfrac{1}{\sqrt{1-(\sqrt{x})^2}}d\sqrt{x}=2\arcsin \sqrt{x}+C
\end{split}
$$

**总结**：
一个比较经典的题目了。对分母带根号的原则是应用凑微分法或换元法优先进行处理。

## 张宇30-P133：分母带根号类不定积分的推导

求$\displaystyle\int \dfrac{dx}{\sqrt{x^2-a^2}}$（$a>0$）。

**思路**：
设$x=a\sec t$，有$dx=a\sec t\tan tdt$。

当$0<t<\dfrac{\pi}{2}$时，$x=a\sec t>0$，且存在反函数，因此：
$$
\begin{split}
\int \dfrac{dx}{\sqrt{x^2-a^2}}&=\int \dfrac{a\sec t\tan t}{a\tan t}dt=\int \sec tdt\\
&=\ln(\sec t+\tan t)+C_1=\ln(x+\sqrt{x^2-a^2})+C
\end{split}
$$
当$\dfrac{\pi}{2}<t<\pi$时，$x=a\sec t<0$，且存在反函数，因此：
$$
\begin{split}
\int \dfrac{dx}{\sqrt{x^2-a^2}}&=-\int \sec tdt=\ln(-x-\sqrt{x^2-a^2})+C
\end{split}
$$
综合起来有：
$$
\int \dfrac{dx}{\sqrt{x^2-a^2}}=\ln\left|x+\sqrt{x^2-a^2}\right|+C
$$

**总结**：
本来不想记录本题的，但突然感觉有必要说明类似类型的不定积分是如何推导的。本题的这个积分是通过三角换元计算的，同时需要处理还原前后的符号变化问题。

## 张宇30-P134：凑微分法计算不定积分

求$\displaystyle\int\dfrac{1}{1+\sin x}dx$。

**思路**：
可以通过三角恒等变形计算：
$$
\int \dfrac{1}{1+\sin x}dx=\int \dfrac{1-\sin x}{\cos^2 x}dx=\tan x-\dfrac{1}{\cos x}+C
$$
也可以通过分母配方进行计算：
$$
\begin{split}
\int \dfrac{1}{1+\sin x}dx&=\int \dfrac{dx}{\left(\cos \dfrac{x}{2}+\sin \dfrac{x}{2}\right)^2}=\int \dfrac{\sec^2 \dfrac{x}{2}}{\left(1+\tan \dfrac{x}{2}\right)^2}dx \\
&=2\int \dfrac{d\left(1+\tan \dfrac{x}{2}\right)}{\left(1+\tan \dfrac{x}{2}\right)^2}=-\dfrac{2}{1+\tan \dfrac{x}{2}}+C
\end{split}
$$

**总结**：
碰到这题好几回了，每次都错。核心矛盾仍然是背那几个基本的定积分。

## 张宇30-P134：换元法和分部积分法计算不定积分

求$\displaystyle\int (\arcsin x)^2dx$。

**思路**：
分部积分法和凑微分法适用于本题的计算：
$$
\begin{split}
\int (\arcsin x)^2 dx&=x(\arcsin x)^2-\int \dfrac{2x\arcsin x}{\sqrt{1-x^2}}dx \\
&=x\arcsin^2 x+2\int \arcsin xd(\sqrt{1-x^2}) \\
&=x\arcsin^2 x+2\sqrt{1-x^2}\arcsin x-2x+C
\end{split}
$$
另外，换元法也可以做。令$u=\arcsin x$，则$x=\sin u$，$dx=\cos udu$：
$$
\begin{split}
\int (\arcsin^2 x)dx&=\int u^2 \cos udu=\int u^2d(\sin u)\\
&=u^2\sin u-\int 2u\sin udu\\
&=u^2\sin u-2\left[u(-\cos u)-\int (-\cos u)du\right] \\
&=u^2\sin u+2u\cos u-2\sin u+C\\
&=x\arcsin^2 x+2\sqrt{1-x^2}\arcsin x-2x+C
\end{split}
$$

**总结**：
$(\arcsin x)^k$等初等函数的幂相对更适合使用分部积分法计算不定积分。

## 张宇30-P134：求不定积分的综合题

求$\displaystyle\int \dfrac{xe^{\arctan x}}{(1+x^2)^{\frac{3}{2}}}dx$。

**思路**：
分部法是可行的，但要进行两次分部积分，最后还需要解出积分：
$$
\begin{split}
\displaystyle\int \dfrac{xe^{\arctan x}}{(1+x^2)^{\frac{3}{2}}}dx &= \int \dfrac{x}{\sqrt{1+x^2}}d(e^{\arctan x})=\dfrac{xe^{\arctan x}}{\sqrt{1+x^2}}-\int \dfrac{e^{\arctan x}}{(1+x^2)^{\frac{3}{2}}}dx \\
&= \frac{xe^{\arctan x}}{\sqrt{1+x^2}}-\int \frac{1}{\sqrt{1+x^2}}d(e^{\arctan x})\\
&=\frac{(x-1)e^{\arctan x}}{\sqrt{1+x^2}}-\int \dfrac{xe^{\arctan x}}{(1+x^2)^{\frac{3}{2}}}dx
\end{split}
$$
解得：
$$
\int \frac{xe^{\arctan x}}{(1+x^2)^{\frac{3}{2}}}dx=\frac{(x-1)e^{\arctan x}}{2\sqrt{1+x^2}}+C
$$

另外，设$x=\tan t$，也可通过换元法解：
$$
I=\int \frac{e^t\tan t}{(1+\tan^2 t)^{\frac{3}{2}}}\sec^2t dt=\int e^t\sin tdt
$$
又$\displaystyle\int e^t\sin t dt=\dfrac{1}{2}e^t(\sin t-\cos t)+C$，所以：
$$
I=\frac{(x-1)e^{\arctan x}}{2\sqrt{1+x^2}}+C
$$

**总结**：
如果对$\int uvdx$进行多次分部积分，应当尽量避免对同一个部分进行多次积分，除非是积分特别显然或者明显能够简化运算的情形。

## 张宇30-P139：定积分的计算

求$\displaystyle \int_{-1}^1 x^2\sqrt{1-x^2}dx$。

**思路**：
通过换元$x=\sin t$易得：
$$
I=\int_{-\frac{\pi}{2}}^{\frac{\pi}{2}} \sin^2 t\cos^2 t dt=\int_{-\frac{\pi}{2}}^{\frac{\pi}{2}} (\sin^2 t-\sin^4 t)dt
$$
根据华里士公式得知：
$$
I=2\int_0^{\frac{\pi}{2}} (\sin^2 t-\sin^4 t)dt=2\left(\dfrac{1}{2}\cdot\dfrac{\pi}{2}-\dfrac{3}{4}\cdot\dfrac{1}{2}\cdot\dfrac{\pi}{2}\right)=\frac{\pi}{8}
$$

**总结**：
积极运用换元法和华里士公式解决带$\sqrt{a^2-x^2}$的定积分。

**华里士公式**：
设$I_1=\displaystyle\int_0^{\frac{\pi}{2}} \sin^n xdx$，$I_2=\displaystyle\int_0^{\frac{\pi}{2}} \cos^n xdx$。则： ^e96474
$$
I_1=I_2=\left\{
\begin{matrix}
\dfrac{n-1}{n}\cdot\dfrac{n-3}{n-2}\cdot \cdots\cdot\dfrac{4}{5}\cdot\dfrac{2}{3}, & n为奇数,\\
\dfrac{n-1}{n}\cdot\dfrac{n-3}{n-2}\cdot \cdots\cdot\dfrac{3}{4}\cdot\dfrac{1}{2}\cdot\dfrac{\pi}{2}, & n为偶数
\end{matrix}
\right.
$$

## 张宇30-P140：换元法计算定积分

求$\displaystyle\int_0^{\frac{\pi}{4}} \ln(1+\tan x)dx$。

**思路**：
令$x=\dfrac{\pi}{4}-t$，得$\tan x=\dfrac{1-\tan t}{1+\tan t}$，则：
$$
\begin{split}
\int_0^{\frac{\pi}{4}} \ln(1+\tan x)dx&=\int_{\frac{\pi}{4}}^0 \ln\dfrac{2}{1+\tan t}(-dt)\\
&=-\int_0^{\frac{\pi}{4}}\ln(1+\tan t)dt+\int_0^{\frac{\pi}{4}}\ln 2dt\\
&=\frac{\pi}{4}\ln 2-\int_0^{\frac{\pi}{4}}\ln(1+\tan x)dx
\end{split}
$$
解得：
$$
\displaystyle\int_0^{\frac{\pi}{4}} \ln(1+\tan x)dx=\frac{\pi}{8}\ln 2
$$

**总结**：
众多定积分的计算问题都会用到定积分的“区间再现公式”： ^de2aa5
$$
\int_a^b f(x)dx=\int_a^b f(a+b-x)dx
$$
对于本题，则是通过换元构造了区间的再现形式。

## 张宇30-P111：华里士公式的应用

求$I=\displaystyle\int_{0}^6 x^2\sqrt{6x-x^2}dx$。

**思路**：
令$x=3+3\sin t$，有：
$$
\begin{split}
I&=\int_{-\frac{\pi}{2}}^{\frac{\pi}{2}} (3+3\sin t)^2 \sqrt{9-9\sin^2 t}\cdot 3\cos tdt \\
&=81\int_{-\frac{\pi}{2}}^{\frac{\pi}{2}} (1+\sin t)^2 \cos^2 tdt\\
&=81\left[\int_{-\frac{\pi}{2}}^{\frac{\pi}{2}}\cos^2 tdt+\int_{-\frac{\pi}{2}}^{\frac{\pi}{2}}\sin^2 t\cos^2 tdt+2\int_{-\frac{\pi}{2}}^{\frac{\pi}{2}} \sin t\cos^2 tdt \right]\\
&=162I_2+162(I_2-I_4)=\frac{405}{8}\pi
\end{split}
$$

**总结**：
注意倒数第二行的那一项是奇函数，因此取值是0。

## 张宇30-P143：超越函数的定积分

设$f(x)=\displaystyle\int_1^{x^2} e^{-t^2}dt$，求$I=\displaystyle\int_0^1 xf(x)dx$。

**思路**：
$f(x)$本身是不可积函数，所以要尽可能使用其他积分办法而不是直接求$f(x)$的原函数。

根据分部积分公式：
$$
\int_0^1 xf(x)dx=\left.\frac{x^2}{2}f(x)\right|_{0}^1-\int_0^1 \frac{x^2}{2}f'(x)dx
$$
可见，如果能得出$f(1),f'(x)$，即可求出$I$。

发现$f(1)=0$，又$f'(x)=e^{-x^4}(x^2)'=2xe^{-x^4}$，因此：
$$
\begin{split}
\int_0^1 xf(x)dx&=-\int_0^1 \frac{x^2}{2}\cdot 2xe^{-x^4}dx=-\int_0^1 x^3e^{-x^4}dx=\frac{1}{4}\int_0^1 e^{-x^4}d(-x^4)\\
&=\left.\frac{1}{4} e^{-x^4}\right|_{0}^1=\frac{1}{4}(e^{-1}-1)
\end{split}
$$

**总结**：
当被积的积分中有超越函数时，可以考虑构造分部积分形$\int udv$，其中$u$为超越函数，则求积分时可以避免直接求其积分。

## 张宇30-P144：变限积分函数求导

设$f(x)$连续，求$\dfrac{d}{dx}\left[\displaystyle\int_0^x tf(x^2-t^2)dt\right]$。

**思路**：
设$x^2-t^2=u$，则$du=-2tdt$，因此：
$$
\begin{split}
\dfrac{d}{dx}\left[\displaystyle\int_0^x tf(x^2-t^2)dt\right]&=-\frac{1}{2}\frac{d}{dx}\left[\int_{x^2}^0 f(x^2-t^2)d(x^2-t^2)\right]\\
&=\frac{1}{2}\frac{d}{dx}\int_0^{x^2} f(u)du\\
&=\frac{1}{2}\cdot 2xf(x^2)=xf(x^2)
\end{split}
$$

**总结**：
如果被积函数中的某一项出现了$x,t$的混合项，**必须**通过换元方式消解掉。

## 张宇30-P145：反常积分的求解

求$\displaystyle\int_{\frac{1}{2}}^{\frac{3}{2}} \dfrac{dx}{\sqrt{|x-x^2|}}$。

**思路**：
首先，由于瑕点$x=1$在区间内部，所以必须以该点为中心，分拆为两个无界区间的反常积分：
$$
\begin{split}
I&=I_1+I_2=\int_{\frac{1}{2}}^{1}\frac{dx}{\sqrt{x-x^2}}+\int_{1}^{\frac{3}{2}}\frac{dx}{\sqrt{x^2-x}} \\
\end{split}
$$
用换元法计算$I_1$：
$$
I_1=2\int_{\frac{1}{2}}^1 \frac{1}{\sqrt{1-(\sqrt{x})^2}}d(\sqrt{x})=\left[2\arcsin \sqrt{x}\right]_{\frac{1}{2}}^{1}=\frac{\pi}{2}
$$
用配方法或换元法计算$I_2$：
$$
I_2=2\int_1^{3/2} \frac{1}{\sqrt{(\sqrt{x})^2-1}}d(\sqrt{x})=\left[2\ln(\sqrt{x}+\sqrt{x-1})\right]_{1}^{3/2}=\ln(2+\sqrt{3})
$$
因此$I=\ln(2+\sqrt{3})+\dfrac{\pi}{2}$。

**总结**：
一刷时由于马虎，算错了$I_1$，二刷注意。

## 张宇30-P147：反常积分的敛散性讨论

讨论$I=\displaystyle\int_2^{+\infty} \dfrac{1}{x\ln^p x}dx$的敛散性。

**思路**：
本题很巧的是$x$的指数正好卡在1上，导致对$p$需要讨论。

对任意$p\neq 1$，有：
$$
I=\int_2^{+\infty} \frac{1}{\ln^p x}d(\ln x)=\left[\frac{1}{1-p}\ln^{1-p}x\right]_{2}^{+\infty}
$$
当$p=1$时，积分式等于$\left[\ln|\ln x|\right]_{2}^{+\infty}$，发散。

当$p<1$时，积分式发散；当$p>1$时，积分式收敛。

**总结**：
一个挺特殊的题目，启示：敛散性有时需要求出全部或部分积分式，才能准确地分析出，而不是仅仅依赖以幂为标准的审敛法。

## 张宇30-P157：极坐标图形的面积计算

计算心形线$r=a(1+\cos \theta)$（$a>0,0\le \theta< 2\pi$）所围成的图形的面积。

**思路**：
使用极坐标面积计算公式：
$$
S=\dfrac{1}{2}\int_0^{2\pi}r^2d\theta=\dfrac{a^2}{2}\int_0^{2\pi} (1+\cos \theta)^2d\theta=\dfrac{3a^2}{4}\pi
$$

**总结**：
极坐标面积计算公式必须记忆。核心思想是：根据角度微元划分出若干曲边三角形，计算它们的面积总和。

## 全书基础-P111：不定积分的计算

求$I=\displaystyle\int \dfrac{1}{x} \sqrt{\dfrac{x+2}{x-2}} dx$。

**思路**：
设$t=\sqrt{\dfrac{x+2}{x-2}}$，则$x=\dfrac{2(t^2+1)}{t^2-1}$，$\dfrac{dx}{dt}=-\dfrac{8t}{(t^2-1)^2}$。
通过换元法计算出：
$$
\begin{split}
I=\int \dfrac{4t^2}{(1-t^2)(1+t^2)}dt=\ln\left|\dfrac{1-t}{1+t}\right|-2\arctan t+C
\end{split}
$$
到这一步是容易的。但是代回$x$时，需要注意定义域的限制，不能轻易恒等变形，只有下面的形式是正确的：
$$
I=\ln\left|\dfrac{1-\sqrt{(x+2)/(x-2)}}{1+\sqrt{(x+2)/(x-2)}}\right|-2\arctan \sqrt{\dfrac{x+2}{x-2}}+C
$$
如果把$\ln$内部的分式化简，就会造成定义域不一致。

**总结**：
求不定积分要考虑被积函数的定义域限制，积出的不定积分也必须服从这一限制。

## 全书基础-P114：分部积分法求解定积分

设$G'(x)=\arcsin(x-1)^2$，$G(0)=0$，求$I=\displaystyle\int_0^1 G(x)dx$。

**思路**：
对$G'(x)$求两次原函数比较困难。考虑用分部积分法构造积分式和$G'(x)$的关系：
$$
\begin{split}
I&=\int_0^1 G(x)dx=\left.xG(x)\right|_{0}^1-\int_0^1 xG'(x)dx\\
&=G(1)-\int_0^1 xG'(x)dx\\
&=\int_0^1 G'(x)dx-\int_0^1 xG'(x)dx\\
&=-\int_0^1(x-1)\arcsin(x-1)^2 d(x-1) \\
&=-\dfrac{1}{2}\int_0^1 \arcsin(x-1)^2 d(x-1)^2\\
&\overset{t=(x-1)^2}{=} \dfrac{1}{2}\int_0^1\arcsin tdt\\
&=\dfrac{1}{2}\left(t\arcsin t|_0^1-\int_0^1 \dfrac{t}{\sqrt{1-t^2}}dt\right)\\
&=\dfrac{1}{2}\left(\dfrac{\pi}{2}-1\right)=\dfrac{\pi}{4}-\dfrac{1}{2}
\end{split}
$$

**总结**：
解答中的第一次分部积分法（$u=x,v=f(x)$）可以建立起函数“三代”的联系：
$$
\int f(x)dx=F(x)=xf(x)-\int xf'(x)dx
$$
通过第二次分部积分法，可以求解$\arcsin x$的积分。

## 全书基础-P118：区间复现公式求定积分

求$I=\displaystyle\int_0^{\pi} \dfrac{x\sin x}{1+\cos^2 x}dx$。

**思路**：
根据区间复现公式，去除$x$项：
$$
I=\displaystyle\int_0^{\pi} \dfrac{x\sin x}{1+\cos^2 x}dx=\pi\int_0^{\frac{\pi}{2}} \dfrac{\sin x}{1+\cos^2 x}dx=\pi I_1
$$
求$I_1$需要凑微分：
$$
\begin{split}
I_1&=-\int_0^{\pi/2} \dfrac{1}{1+\cos^2 x}d(\cos x)\\
&=\int_0^1 \dfrac{1}{1+t^2}dt=\left[\arctan t\right]_0^1=\dfrac{\pi}{4}
\end{split}
$$
因此$I=\dfrac{\pi^2}{4}$。

**总结**：
区间复现公式可以简化以三角函数形为主的积分式。

## 全书基础-P122：反常积分相关的结论判断

下列积分有关的结论中不正确的有：
- $\displaystyle\int_{-\infty}^{+\infty} x^2e^{-x^2}dx=\dfrac{\sqrt{\pi}}{2}$。
- $\displaystyle\int_{-1}^1 \dfrac{\sin x^2}{x}dx=0$。
- $\displaystyle\int_{-\infty}^{+\infty} \dfrac{x}{1+x^2}dx=0$。
- $\displaystyle\int_{-\infty}^{+\infty} \dfrac{x}{(1+x^2)^2}dx=0$。

**思路**：
第一个结论是正确的。根据分部积分法分析：
$$
\int_{-\infty}^{+\infty} x^2e^{-x^2}dx=-\dfrac{1}{2} \int_{-\infty}^{+\infty} xde^{-x}=-\dfrac{1}{2}\left(xe^{-x^2}|_{-\infty}^{+\infty} - \int_{-\infty}^{+\infty} e^{-x^2}dx\right)=\dfrac{1}{2}\int_{-\infty}^{+\infty} e^{-x^2}dx
$$
而转化后的积分是一个类似正态分布函数的积分：
$$
\int_{-\infty}^{+\infty} e^{-x^2}dx=\sqrt{\pi}
$$
所以代回检验，第一个结论是正确的。

第二个结论是正确的。注意的是，该积分虽然在$x=0$处无定义，但由于它不是无穷间断点，所以**不是反常积分**。$x=0$两侧符合点对称性，因此第二个结论是正确的。

第三个结论是错误的。取$[0,+\infty)$一侧分析，有：
$$
\int_0^{+\infty}\dfrac{x}{1+x^2}dx=\left.\dfrac{1}{2}\ln(1+x^2)\right|_0^{+\infty}=\dfrac{1}{2}\lim_{b\rightarrow +\infty} \ln(1+b^2)
$$
结果发散。尽管被积函数是奇函数，但在两侧区间和积分均无穷的情形下**不能使用对称性**，所以该积分发散，结论错误。

第四个结论是正确的。取$[0,+\infty)$一侧分析，有：
$$
\int_0^{+\infty} \dfrac{x}{(1+x^2)^2}dx=-\dfrac{1}{2}\left.\left(\dfrac{1}{1+x^2}\right)\right|_0^{+\infty}=\dfrac{1}{2}
$$
结果收敛。被积函数是奇函数，且两侧积分均有限，可以运用对称性，结论成立。

因此第一、二、四个结论正确，第三个结论错误。

**总结**：
全定义域下两侧积分均为无穷，则不能应用对称性说明全区间积分为零。很简单的道理，无穷减无穷不是零。

## 660-T52：不定积分的求解

求$I=\displaystyle\int \sqrt{\dfrac{3-2x}{3+2x}}dx$。

**思路**：
可以直接积分做，思路是分子有理化后拆分：
$$
\begin{split}
I&=\int \dfrac{3-2x}{\sqrt{9-4x^2}}dx=\dfrac{3}{2}\int \dfrac{d(
\dfrac{3}{2}x)}{\sqrt{1-(\dfrac{3}{2}x)^2}}+\dfrac{1}{4}\int \dfrac{d(9-4x^2)}{\sqrt{9-4x^2}}\\
&=\dfrac{3}{2}\arcsin \dfrac{2x}{3}+\dfrac{1}{2}\sqrt{9-4x^2}+C
\end{split}
$$

另一种主流思路是换元，设$t=\sqrt{\dfrac{3-2x}{3+2x}}$，则$x=\dfrac{3(1-t^2)}{2(1+t^2)}$：
$$
I=\int \dfrac{-6t^2}{(1+t^2)^2}dt
$$
可以换元做：
$$
\begin{split}
I&=\int 3td\left(\dfrac{1}{1+t^2}\right)=\dfrac{3t}{1+t^2}-\int \dfrac{3}{1+t^2}dt\\
&=\dfrac{1}{2}\sqrt{9-4x^2}-3\arctan\sqrt{\dfrac{3-2x}{3+2x}}+C
\end{split}
$$
也可以用有理函数的积分法得出相同的结果。

**总结**：
当时被$\dfrac{1}{(x^2+1)^2}$的不定积分卡了，可以考虑用$\arctan x$和其他有理函数凑：
$$
\int \dfrac{1}{(x^2+1)^2}dx=\dfrac{1}{2}\left(\arctan x+\dfrac{x}{1+x^2}\right)+C
$$

## 660-T54：不定积分的计算

求$I=\displaystyle\int \dfrac{xe^x}{\sqrt{1+e^x}}dx$。

**思路**：
第一反应自然是换元（$t=\sqrt{1+e^x}$），也可以做，但不是收录此题的理由。

下面提出一种分部积分法解决本题的方法：
$$
\begin{split}
I&=\int xd(\sqrt{1+e^x})=2\left[x\sqrt{1+e^x}-\int \sqrt{1+e^x}dx\right]
\end{split}
$$
其中（$t=\sqrt{1+e^x}$）：
$$
\int \sqrt{1+e^x}dx=\int \dfrac{2t^2}{t^2-1}dt=2t+\ln\dfrac{t-1}{t+1}+C=2\sqrt{1+e^x}+\ln\frac{\sqrt{1+e^x}-1}{\sqrt{1+e^x}+1}+C
$$
因此：
$$
I=(2x-4)\sqrt{1+e^x}-2\ln\dfrac{\sqrt{1+e^x}-1}{\sqrt{1+e^x}+1}+C
$$

**总结**：
二刷做对了，看看思路就行。

## 660-T65：分段函数求变限积分

设$f(x)=\max\{1,x^2\}$，求$\displaystyle\int_1^x f(t)dt$。

**思路**：
不难求解出$f(x)$的不定积分：
$$
\int f(x)dx=\left\{\begin{matrix}
\dfrac{x^3}{3}-\dfrac{2}{3}+c, & x<-1,\\
x+c, & -1\le x\le 1,\\
\dfrac{x^3}{3}+\dfrac{2}{3}+c, & x>1
\end{matrix}\right.
$$
但直接将不定积分作为变限积分函数不行。单侧的变限积分函数有一个特点，就是定限一侧的函数值为0，即：
$$
\left[\int_1^x f(t)dt\right]_{1}=\int_1^1 f(t)dt=0
$$
解得$c=-1$，即：
$$
\int_1^x f(t)dt=\left\{\begin{matrix}
\dfrac{x^3}{3}-\dfrac{5}{3}, & x<-1,\\
x-1, & -1\le x\le 1,\\
\dfrac{x^3}{3}-\dfrac{1}{3}, & x>1
\end{matrix}\right.
$$

**总结**：
单侧变限（变上限、变下限）积分函数的一侧函数值为零，可用于确定唯一的变限积分函数。

## 660-T71：旋转曲面的面积计算

星形线方程
$$
\left\{\begin{matrix}
x=a\cos^3 t\\
y=a\sin^3 t
\end{matrix}\right.
$$
确定的曲线绕$x$轴旋转形成一个闭合曲面。求闭合曲面的表面积。

**思路**：
函数$y=f(x)$（$a\le x\le b$）绕$x$轴旋转形成的曲面的表面积：
$$
S=2\pi\int_a^b |y|\sqrt{1+[y'(x)]^2}dx
$$
套用到本题上，有：
$$
S=2\cdot 2\pi\int_0^a a|\sin^3 t|\sec tdx=2\cdot 6\pi a^2 \int_{0}^{\frac{\pi}{2}}\sin^4td(\sin t)=\dfrac{12}{5}\pi a^2
$$

**总结**：
注意那个$\sqrt{1+y'^2}$，做的时候总是算错。

## 660-T73：平面区域的质心计算

求由方程$y^2=\dfrac{x}{9}(3-x)^2$（$0\le x\le 3$）围成的均匀平面区域的质心坐标。

**思路**：
易知该图形是上下对称的，因此$\bar{y}=0$。

根据质心坐标公式：
$$
\bar{x}=\dfrac{\displaystyle\int_0^3 xydx}{\displaystyle\int_0^3 ydx}=\dfrac{\int_0^3 x(3-x)\sqrt{x}dx}{\int_0^3 (3-x)\sqrt{x}dx}=\dfrac{9}{7}
$$

因此质心坐标$\left(\dfrac{9}{7},0\right)$。

**总结**：
质心坐标公式：
$$
\bar{x}=\dfrac{\displaystyle\int xydx}{\displaystyle\int ydx},\bar{y}=\dfrac{\displaystyle\int xydy}{\displaystyle\int xdy}
$$

## 660-T75：与积分学相关的物理问题

设无穷长直线的线密度为$1$，引力常数为$k$，则直线对距直线为$a$的单位质点的引力为多少？

**思路**：
在题目描述下，以直线方向为$x$轴建系，则直线微元$dx$对单位质点的引力：
$$
dF=k\dfrac{dx}{a^2+x^2}
$$
不失一般性假设质点坐标为$(0,a)$，则由于直线关于$y$轴对称，所以$F$的$x$轴分量被抵消，因此只需要根据夹角计算$y$轴分量（设质点与微元连线和$x$轴夹角为$\theta$）：
$$
dF_y=\cos\theta dF=\dfrac{a}{\sqrt{a^2+x^2}}dF=\dfrac{ka}{(a^2+x^2)^{\frac{3}{2}}}dx
$$
整条直线对质点的引力可以通过微元法计算：
$$
F=\int_{-\infty}^{+\infty} dF_y=2\int_0^{+\infty} \dfrac{ka}{(a^2+x^2)^{\frac{3}{2}}}dx=2\int_{0}^{\pi/2} \dfrac{k}{a}\cos tdt=\dfrac{2k}{a}
$$

**总结**：
跪了。

## 660-T177：带振荡间断点函数的变限积分

设$f(x)=\left\{\begin{matrix}\sin\dfrac{1}{x}, & x\neq 0\\ 1, & x=0\end{matrix}\right.$，$F(x)=\displaystyle\int_{-1}^x f(t)dt$，则下列说法正确的是：
- $F(x)$在$(-1,1)$为无界函数。
- $F(x)$在$(-1,1)$为连续有界函数。
- $F(x)$在$(-1,1)$有间断点$x=0$。
- $F(x)$在$[-1,1]$不可积。

**思路**：
第一种说法是错误的，因为$f(x)$是有界函数，所以$F(x)$在有限区间内也必然有界。

第二种说法是正确的。$f(x)$在$x=0$处有振荡间断点，但是该点处函数有界，所以原函数仍然存在且连续。结合前一种说法，得知该说法正确。

第三种说法是错误的。$x=0$处是取值有界的振荡间断点，虽然原函数不一定可导，但一定在$x=0$处连续。

第四种说法是错误的。$F(x)$在$[-1,1]$显然可积，且积分恰为零。

**总结**：
之前纠结过一次原函数和积分存在性的问题，今天做一个简单复盘：
- 原函数若存在，则一定连续；若函数连续，则原函数一定可导。
- 函数有第一类间断点或无穷间断点，则在包含其的区间内无原函数，但**不一定不可积**。

## 660-T181：定区间内可积函数的性质

下列命题中正确的是：
- 设$f(x)$在$[a,b]$可积，$f(x)\ge 0$，且$f(x)\not\equiv 0$，则$\displaystyle\int_a^b f(x)dx> 0$。
- 设$f(x)$在$[a,b]$可积，$g(x)$在$[a,b]$不可积，则$f(x)+g(x)$在$[a,b]$不可积。
- 设$f^2(x)$在$[a,b]$可积，则$f(x)$在$[a,b]$可积。
- 设$x_0\in(a,b)$，$f(x)$在$[a,b]/\{x_0\}$连续且有界，$x=x_0$是$f(x)$的间断点，则$F(x)=\displaystyle\int_a^x f(t)dt$在$x=x_0$不可导。

**思路**：
第一个命题是错的。因为$f(x_0)\neq 0$的点可能恰好只有一个或有限个跳跃间断点，此时$f(x)$在$[a,b]$仍然可积，但不满足$\displaystyle\int_a^b f(t)dt>0$。

第二个命题是正确的。

第三个命题是错误的。

第四个命题是错误的。如果$x=x_0$是振荡间断点或可去间断点，则$F(x)$在$x=x_0$可导。

**总结**：
这道题比较乱，需要再看。

## 660-T189：定积分的计算

求$I=\displaystyle\int_0^1 x^4\sqrt{\dfrac{1+x}{1-x}}dx$。

**思路**：
换元（$t=\sqrt{\dfrac{1+x}{1-x}}$），得：
$$
I=\int_1^{+\infty} \dfrac{4t^2(t^2-1)^4}{(t^2+1)^6}dt
$$
再次换元（$t=\tan\dfrac{u}{2}$），得：
$$
I=\int_{\pi/2}^{\pi} \dfrac{\cos^4 u\sin^2 u}{1+\cos u}du
$$
随后的这个变换很关键（$\dfrac{\sin u}{1+\cos u}=\dfrac{1-\cos u}{\sin u}$）：
$$
\begin{split}
I&=\int_{\pi/2}^{\pi} (\cos^4 u-\cos^5 u)du=\int_0^{\pi/2} \cos^4udu+\int_{0}^{\pi/2} \cos^5udu\\
&=\dfrac{3\cdot 1\cdot \pi}{4\cdot 2\cdot 2}+\dfrac{4\cdot 2}{5\cdot 3}=\dfrac{3}{16}\pi+\dfrac{8}{15}
\end{split}
$$

**总结**：
如果三角换元后，被积式中正弦或余弦次数较高、且被积区间只有$\dfrac{\pi}{4}$，则考虑换元时用半角换元：$t=\tan \dfrac{u}{2}$。

另外，恒等变形也是很重要的。

## 660-T197：固定区间长度的变限积分函数分析

函数$F(x)=\displaystyle\int_{x}^{x+\pi} \ln(1+\cos^2 t)\cos 2tdt$在全定义域是否恒为常数？如是，判断其符号，否则说明理由。

**思路**：
首先需要发现$F(x)=F(0)$。因此$F(x)$是常数，需要判断下面这个定积分的符号：
$$
I=\int_0^{\pi} \ln(1+\cos^2 t)\cos 2tdt
$$
利用分部积分法作变换：
$$
\begin{split}
I&=\dfrac{1}{2}\left[\ln(1+\cos^2t) \sin 2t\right]_{0}^{\pi}-\int_0^{\pi} \dfrac{-\sin 2t}{1+\cos^2 t}\cdot\sin 2tdt \\
&=\int_0^{\pi} \dfrac{\sin^2 2t}{1+\cos^2 t}dt>0
\end{split}
$$

因此该常数为正。

**总结**：
固定区间长度的变限积分如果符合周期性，则先尝试确定为一个常数，再分析这个常数的性质即可。

## 660-T203：反常积分的敛散性判断

判断反常积分$I=\displaystyle\int_1^{+\infty} \dfrac{dx}{x(x^2-1)}$的敛散性。

**思路**：
第一种思路是通过具体的积分计算判断：
$$
I=\int_{1}^{+\infty} \dfrac{dx}{x^3(1-\dfrac{1}{x^2})}=-\dfrac{1}{2}\int_{1}^{+\infty} \dfrac{d(\dfrac{1}{x^2})}{1-\dfrac{1}{x^2}}=\dfrac{1}{2}\left[\ln\left(1-\dfrac{1}{x^2}\right)\right]_{1}^{+\infty}=+\infty
$$
通过计算得知该积分是发散的。

第二种思路是通过比较审敛法或适当放大缩小法：
$$
I_1=\int_1^2 \dfrac{dx}{x(x^2-1)},I_2=\int_2^{+\infty} \dfrac{dx}{x(x^2-1)}
$$
在$[1,2]$内，有$\dfrac{1}{x(x^2-1)}>\dfrac{1}{6(x-1)}$，因此：
$$
I_1>\int_1^2\dfrac{dx}{6(x-1)}=+\infty
$$
因此积分发散。

**总结**：
比较审敛法不是万能的，甚至有时可能出错，具体问题需要根据积分结构的不同具体分析。

## 660-T204：无穷区间反常积分的敛散性讨论

判断下列三个命题的真伪：
- 设$f(x)$在$(-\infty,+\infty)$内连续是奇函数，则$\displaystyle\int_{-\infty}^{+\infty} f(x)dx=0$。
- 设$f(x)$在$(-\infty,+\infty)$内连续，又$\displaystyle\lim_{R\rightarrow +\infty} \int_{-R}^{R} f(x)dx$存在，则$\displaystyle\int_{-\infty}^{+\infty} f(x)dx$收敛。
- 若$\displaystyle\int_{-\infty}^0 f(x)dx$与$\displaystyle\int_{0}^{+\infty} f(x)dx$均发散，则不能确定$\displaystyle\int_{-\infty}^{+\infty} f(x)dx$是否收敛。

**思路**：
三个命题都是错的。

第一个命题，无穷大是一个不能确定的度量，它**只表示大于任何有穷值**，而不能和其他未明确阶数的无穷大作比较。因此命题也是错的，有一个很显然的反例：
$$
\int_{-\infty}^{+\infty} \sin xdx
$$
这个积分是发散的，它的取值不能确定。

后两个命题与第一个命题同理。第二个命题只明确了在某种无穷大度量下，反常积分收敛，而没有明确其他度量下同样的结论成立。第三个命题中，积分一定发散。

**总结**：
对于无穷区间，常见的一些基于区间度量的定积分技巧（如区间再现公式、奇偶函数性质、周期函数性质等）失效。除非题干特殊说明，否则未明确阶数的无穷大之间不能做比较。

## 张宇18-P78：变限积分函数的奇偶性

设$f(x)$连续，$a$是常数，则下述命题正确的是：
- 若$f(t)$为奇函数，则$\displaystyle\int_a^x dy\displaystyle\int_0^y f(t)dt$是$x$的奇函数。
- 若$f(t)$为偶函数，则$\displaystyle\int_0^x dy\displaystyle\int_a^y f(t)dt$是$x$的奇函数。
- 若$f(t)$为奇函数，则$\displaystyle\int_0^x dy\displaystyle\int_y^x f(t)dt$是$x$的奇函数。
- 若$f(t)$为偶函数，则$\displaystyle\int_0^x dx\displaystyle\int_0^x f(t)dt$是$x$的奇函数。

**思路**：
设$F(x)=\int_0^x f(t)dt$，若$f(x)$是奇函数，则$F(x)$是偶函数；若$f(x)$是偶函数，则$F(x)$是奇函数。

第一个命题，$F(t)$为偶函数，因此
$$
G(x)=\int_a^x dy\int_0^y f(t)dt=\int_a^x F(y)dy
$$
不是奇函数，因为$G(0)=0$不恒成立。

第二个命题，$F(t)$为奇函数，因此
$$
G(x)=\int_0^x [F(y)-F(a)]dy=\int_0^xF(y)dy-xF(a)
$$
不是奇函数，因为$G(x)+G(-x)=2\displaystyle\int_0^x F(y)dy$不恒为零。

第三个命题，$F(t)$为偶函数，因此
$$
G(x)=\int_0^x dy\int_y^x f(t)dt=xF(x)-\int_0^xF(y)dy
$$
是奇函数。因为对任意的$x$，都有$G(x)+G(-x)=0$成立。

第四个命题，$F(t)$为奇函数，因此
$$
G(x)=\int_0^x F(x)dx
$$
不是奇函数（事实上是偶函数）。

**总结**：
对任何奇函数，定义域内的任意原函数为偶函数；对任何偶函数，定义域内的**某个**原函数为奇函数。

## 张宇18-P82：定义法计算定积分

设
$$
f(x)=\left\{\begin{matrix}
\displaystyle\lim_{n\rightarrow \infty} \dfrac{1}{n}\left(1+\cos\dfrac{x}{n}+\cos\dfrac{2x}{n}+\cdots+\cos\dfrac{n-1}{n}x\right), & x>0,\\
a, & x=0, \\
f(-x), & x<0
\end{matrix}\right.
$$
连续，求$a$的值。

**思路**：
根据定积分的定义计算$f(x)$定义中$x>0$的部分：
$$
\begin{split}
f(x)&=\dfrac{1}{x}\lim_{n\rightarrow \infty} \dfrac{x}{n}\left(1+\cos\dfrac{x}{n}+\cos\dfrac{2x}{n}+\cdots+\cos\dfrac{n-1}{n}x\right) \\
&=\dfrac{1}{x}\int_0^x\cos tdt=\dfrac{\sin x}{x}
\end{split}
$$
因此$a=\lim_{x\rightarrow 0}f(x)=1$。

**总结**：
定义法求定积分可能会忽视一个要点：和式的系数必须是**微元区间长度的倒数**，对于本题而言，被积区间长度是$x$，区间划分个数是$n$，则微元区间长度是$\dfrac{x}{n}$。因此，需要像思路里叙述的那样，用$x$凑一下系数。

## 张宇18-P91：换元法求不定积分

求$I=\displaystyle\int \dfrac{dx}{(2x^2+1)\sqrt{x^2+1}}$。

**思路**：
设$x=\tan t$，则$t=\arctan x$，$dx=\dfrac{dt}{\cos^2 t}$，因此：
$$
\begin{split}
I&=\int \dfrac{1}{\cos^2 t(\sec^ 2 t +\tan^2 t)\sec t}dt \\
&=\int \dfrac{\cos t}{2\sin^2 t+\cos^2 t}dt=\int \dfrac{d(\sin t)}{1+\sin^2 t}=\arctan(\sin t)+C
\end{split}
$$
代回，得：
$$
I=\arctan \dfrac{x}{\sqrt{x^2+1}}+C
$$

**总结**：
如果被积函数内含有形似$\sqrt{x^2+1}$的因式，优先考虑$x=\tan t$换元。

## 张宇18-P91：换元法求不定积分

求$I=\displaystyle\int \dfrac{1}{\sqrt{e^x+1}+\sqrt{e^x-1}}dx$。

**思路**：
如果是一个根号，果断换元，但两个根号相加还是在分母上，则需要考虑一下分母有理化：
$$
I=\int \dfrac{\sqrt{e^x+1}-\sqrt{e^x-1}}{2}dx
$$
可以分拆成两个积分分别计算，也能计算出正确的结果。

答案给出的是另一种解法：更简便的方法可以考虑设$t=e^x$，则$x=\ln t$，$dx=\dfrac{dt}{t}$。同时：
$$
I=\dfrac{1}{2}\int \dfrac{\sqrt{t+1}-\sqrt{t-1}}{t}dt
$$
对$\dfrac{1}{2}\displaystyle\int \dfrac{\sqrt{t+1}}{t}dt$，设$u=\sqrt{t+1}$，则：
$$
\begin{split}
\dfrac{1}{2}\int \dfrac{\sqrt{t+1}}{t}dt&=\dfrac{1}{2}\int \dfrac{2u^2}{u^2-1}du=u+\dfrac{1}{2}\ln\left|\dfrac{u-1}{u+1}\right|+C_1 \\
&=\sqrt{e^x+1}+\dfrac{1}{2}\ln\dfrac{\sqrt{e^x+1}-1}{\sqrt{e^x+1}+1}+C_1
\end{split}
$$
对$\dfrac{1}{2}\displaystyle\int \dfrac{\sqrt{t-1}}{t}dt$同理：
$$
\dfrac{1}{2}\int \dfrac{\sqrt{t-1}}{t}dt=\sqrt{e^x-1}-\arctan \sqrt{e^x-1}+C_2
$$
因此：
$$
I=\sqrt{e^x+1}-\sqrt{e^x-1}+\arctan\sqrt{e^x-1}+\dfrac{1}{2}\ln\dfrac{\sqrt{e^x+1}-1}{\sqrt{e^x+1}+1}+C
$$

**总结**：
对于被积函数中只有一个根号的情形，一般宜使用换元法。但如果被积函数中有两个根号相加或者相减，则需要认真考虑恒等变形或者其他方法。

## 张宇18-P92：分部积分法创造积分抵消情形

求$I=\displaystyle\int e^x\left(\dfrac{1-x}{1+x^2}\right)^2dx$。

**思路**：
不要立即运用分部积分法。在运用之前，先进行一次恒等变形，将积分分拆：
$$
I=I_1+I_2=\int \dfrac{e^x}{1+x^2}dx+\int e^x\dfrac{-2x}{(1+x^2)^2}dx
$$
随后利用分部积分法计算$I_2$：
$$
I_2=\dfrac{e^x}{1+x^2}-\int \dfrac{e^x}{1+x^2}dx
$$
代回，发现抵消了一个积分项，因此：
$$
I=\dfrac{e^x}{1+x^2}+C
$$

**总结**：
分部积分法有可能创造出**积分再现**或**积分抵消**的情形，是积分中常见的情形。

## 张宇18-P92：分部积分法和递推法计算定积分

设$n\in \mathbf{N}_{+}$，求$I_n=\displaystyle\int_0^1 x^2\ln^n xdx$。

**思路**：
运用分部积分法，可以推导出$I_n$和$I_{n-1}$之间的递推关系式：
$$
I_n=\left[\dfrac{x^3}{3}\ln^n x\right]_0^1-\int_0^1 \dfrac{nx^2}{3}\ln^{n-1} xdx=-\dfrac{n}{3}I_{n-1}
$$
而$I_0=\dfrac{1}{3}$，所以：
$$
I_n=\dfrac{(-1)^n}{3^{n+1}}n!
$$

**总结**：
部分求定积分的题目可能难于甚至无法求出原函数，但在不同参数下的定积分之间可能存在一些规律。根据这种规律，即可利用递推方法计算定积分。

## 张宇18-P98：区间再现法计算定积分

求$I=\displaystyle\int_0^1 \dfrac{\ln(1+x)}{1+x^2}dx$。

**思路**：
考虑到分母是$\arctan x$的导数，令$x=\tan t$，得：
$$
I=\int_0^{\pi/4} \ln(1+\tan t)dt
$$
直接计算该定积分仍是十分困难的。除非进行区间再现方式换元，令$u=\dfrac{\pi}{4}-t$，得：
$$
\begin{split}
I&=\int_0^{\pi/4}\ln\left[1+\tan\left(\dfrac{\pi}{4}-u\right)\right]du \\
&=\int_0^{\pi/4} \ln\left(1+\dfrac{1-\tan u}{1+\tan u}\right)du=\int_0^{\pi/4} \ln\dfrac{2}{1+\tan u}du=\dfrac{\pi}{4}\ln 2-I
\end{split}
$$
解得：
$$
I=\dfrac{\pi}{8}\ln 2
$$

**总结**：
题中涉及的积分
$$
I=\int \ln(1+\tan x)dx
$$
比较特殊，一般只能通过区间再现换元计算。

## 张宇18-P99：解定积分

设$f(x)$连续，$\displaystyle\int_0^{\pi/4} f(2x)dx-f(x)=\cos^4 x$，求$I=\displaystyle\int_0^{\pi/2} f(x)dx$。

**思路**：
等式变形，得到：
$$
f(x)=\dfrac{I}{2}-\cos^4 x
$$
对等式积分，得到关于$I$的方程：
$$
I=\int_0^{\pi/2} \left(\dfrac{I}{2}-\cos^4 x\right)dx=\dfrac{\pi}{4}I-\dfrac{3\pi}{16}
$$
解得：
$$
I=\dfrac{3\pi}{4(\pi-4)}
$$

**总结**：
二刷做对了，以后再看一眼。

## 张宇18-P100：定积分分部积分法的升降阶问题

设
$$
f(x)=\lim_{t\rightarrow \infty} t^2\sin \dfrac{x}{t}\cdot\left[g\left(2x+\dfrac{1}{t}\right)-g(2x)\right]
$$
且$g(x)$的一个原函数是$\ln(x+1)$，求$\displaystyle\int_0^1 f(x)dx$。

**思路**：
首先考虑表示$f(x)$。右侧大方括号内可表示为$\dfrac{g'(2x)}{t}$，再用$\dfrac{\sin u}{u}$的极限化简：
$$
\begin{split}
f(x)&=x\cdot \lim_{t\rightarrow \infty} \cdot\dfrac{\sin\dfrac{x}{t}}{\dfrac{x}{t}}\cdot\dfrac{g\left(2x+\dfrac{1}{t}\right)-g(2x)}{\dfrac{1}{t}} \\
&=x\cdot 1\cdot g'(2x)=xg'(2x)
\end{split}
$$
因此：
$$
\begin{split}
\int_0^1 xg'(2x)dx&=\dfrac{1}{2}\int_0^2 \dfrac{t}{2}g'(t)dt=\dfrac{1}{4}\int_0^2 td[g(t)]\\
&=\dfrac{1}{4}\left[\left.tg(t)\right|_0^2-\int_0^2g(t)dt\right]\\
&=\dfrac{1}{4}\left[x\cdot\dfrac{1}{1+x}-\ln(x+1)\right]_0^2\\
&=\dfrac{1}{6}-\dfrac{1}{4}\ln 3
\end{split}
$$

**总结**：
本题已知的是$\displaystyle\int g(x)dx$，要求将$g'(x)$通过不断表示，最终表示为和$\displaystyle\int g(x)dx$相关的一个结果。这个过程是降阶过程。相反地，已知$g'(x)$并将其用于表示$\displaystyle\int g(x)dx$的过程称为升阶过程。

两种过程的要点都是运用分部积分法，进行灵活的升降阶操作。

## 张宇18-P102：换元求导型积分问题

设$f(x)$在$[0,+\infty)$上可导，$f(0)=0$，其反函数为$g(x)$。若
$$
\int_x^{x+f(x)} g(t-x)dt=x^2\ln(1+x)
$$
求$f(x)$。

**思路**：
先通过换元（$u=t-x$）消去变限积分的交叉项（$t-x$）：
$$
\int_x^{x+f(x)} g(t-x)dt=\int_0^{f(x)}g(u)du
$$
等式两边对$x$求导，并利用反函数的性质（$f^{-1}[f(x)]=x$）进行化简：
$$
f'(x)g[f(x)]=xf'(x)=2x\ln(1+x)+\dfrac{x^2}{1+x}
$$
当$x\neq 0$时，有$f'(x)=2\ln(1+x)+\dfrac{x}{1+x}$，对两边积分：
$$
\begin{split}
f(x)&=\int \left[2\ln(1+x)+\dfrac{x}{1+x}\right]dx\\
&=(2x+1)\ln(1+x)-x+C
\end{split}
$$
代入$f(0)=0$，解得$C=0$，因此：
$$
f(x)=(2x+1)\ln(1+x)-x,x\ge 0
$$

**总结**：
本题首先需要处理变限积分的交叉项问题，其次要运用反函数性质简化问题，随后要计算不定积分，最后要根据$f(0)$的值确定目标函数。

## 张宇18-P103：换元求导型积分问题

设$f(x)$在$\mathbf{R}$内非负连续，且
$$
\int_0^x tf(x^2)f(x^2-t^2)dt=\sin^2(x^2)
$$
求$f(x)$在$[0,\pi]$上的平均值。

**思路**：
令$u=x^2-t^2$，则$du=-2tdt$，即：
$$
\sin^2(x^2)=\dfrac{1}{2}f(x^2)\int_0^{x^2} f(u)du
$$
令$x^2=v$，$F(v)=\displaystyle\int_0^v f(r)dr$，则：
$$
2\sin^2 v=f(v)F(v)=F(v)F'(v)
$$
对$v$在$[0,\pi]$积分，有：
$$
\int_0^{\pi} F(v)F'(v)dv=\left.\dfrac{1}{2}F^2(v)\right|_{0}^{\pi}=2\int_0^{\pi} \sin^2 vdv=\pi
$$
故$F(\pi)=\sqrt{2\pi}$，因此$f(x)$在$[0,\pi]$上的平均值为：
$$
\dfrac{1}{\pi}\int_0^{\pi} f(x)dx=\sqrt{\dfrac{2}{\pi}}
$$

**总结**：
消除交叉项是老生常谈。问题在于如何巧妙处理$FF'$，反应出其原函数正是$\dfrac{F^2}{2}$。

## 张宇18-P104：拆分求导型积分问题

设$|x|\le 1$，求积分$I(x)=\displaystyle\int_{-1}^1 |t-x|e^{2t}dt$的最大值。

**思路**：
由于$x$落在$1$和$-1$之间，所以考虑拆分绝对值，形成两个不带绝对值号的积分：
$$
I(x)=\int_{-1}^x (x-t)e^{2t}dt+\int_{x}^1 (t-x)e^{2t}dt
$$
这是两个带交叉项的变限积分，需要进一步拆解：
$$
I(x)=-\int_{-1}^x te^{2t}dt+\int_x^1 te^{2t}dt-x\left[\int_x^1e^{2t}dt-\int_{-1}^x e^{2t}dt\right]
$$
求导：
$$
I'(x)=-xe^{2x}-xe^{2x}-\left[\int_x^1e^{2t}dt-\int_{-1}^x e^{2t}dt\right]-x\left[-2e^{2x}\right]=e^{2x}-\dfrac{e^2+e^{-2}}{2}
$$
可见$x=\dfrac{1}{2}\ln\dfrac{e^2+e^{-2}}{2}$是最小值点，因此最大值点只能在$x=\pm 1$处取得：
$$
I_{\max}=\max\{I(-1),I(1)\}=\max\{\dfrac{3}{4}e^2+\dfrac{1}{4}e^{-2},\dfrac{1}{4}e^2-\dfrac{5}{4}e^{-2}\}=\dfrac{3}{4}e^2+\dfrac{1}{4}e^{-2}
$$

**总结**：
在变限积分里遇到绝对值，一般考虑以绝对值分界点为界拆分成两个或多个积分，分别计算。

## 张宇18-P105：换序型积分问题

求极限$A=\displaystyle\lim_{t\rightarrow 0^+} \dfrac{1}{t^5}\displaystyle\int_0^t dy\int_y^t \dfrac{\sin(xy)^2}{x}dx$。

**思路**：
题目给了一个二重积分，但是难于处理。如果被积函数先对$y$积分，则积分的计算会相对容易，这里涉及到换序：
$$
\begin{split}
A&=\lim_{t\rightarrow 0^+} \dfrac{1}{t^5}\int_0^t \dfrac{1}{x}dx\int_0^x \sin(xy)^2dy \\
\end{split}
$$
视二重积分为函数，洛必达法则→消除变限积分交叉项→洛必达法则→计算极限：
$$
\begin{split}
A&=\lim_{t\rightarrow 0^+} \dfrac{\dfrac{1}{t}\displaystyle\int_0^t \sin(ty)^2dy}{5t^4}=\lim_{t\rightarrow 0^+}\dfrac{\dfrac{1}{t}\displaystyle\int_0^{t^2} \sin u^2du}{5t^5} \\
&=\lim_{t\rightarrow 0^+}\dfrac{2t\cdot\sin(t^4)}{30t^5}=\dfrac{1}{15}
\end{split}
$$

**总结**：
本题其实更像是二重积分部分的题，但是被排到了这里。核心思想是先换序化简二重积分，再反复运用洛必达法则。

## 张宇18-P105：反常积分的计算

求$I=\displaystyle\int_0^1 \dfrac{x^2\arcsin x}{\sqrt{1-x^2}}dx$。

**思路**：
在做这题之前，为什么不考虑分部积分法？因为太难处理。

考虑换元（$x=\sin t$，$dx=\cos tdt$，$t=\arcsin x$），因此：
$$
I=\int_0^{\pi/2} \dfrac{t\sin^2 t}{\cos t}\cdot\cos tdt=\int_0^{\pi/2} t\sin^2 tdt
$$
这个积分可以用分部积分法计算：
$$
I=\int_0^{\pi/2} \left(\dfrac{t}{2}-\dfrac{t\cos 2t}{2}\right)dt=\dfrac{\pi^2}{16}+\dfrac{1}{4}
$$

**总结**：
如何选择积分计算的第一步很关键，选择一般不会逃出换元、分部积分或者凑微分法的范围。

## 张宇18-P111：曲线绕定直线旋转体的体积计算

求曲线$y=e^x$（$0\le x\le 1$）绕直线$y=x$旋转一周所得的旋转体的体积。

**思路**：
![[Pasted image 20230714083251.png]]

旋转体是曲边梯形$ABCD$绕$y=x$旋转一周形成的。

根据[[Z03-一元函数积分学#^a28155|平面曲线绕定直线旋转体的体积]]公式，得知：
$$
\begin{split}
V&=\dfrac{\pi}{2\sqrt{2}}\left[\int_0^1 (x-e^x)^2(e^x+1)dx \right] \\
&=\dfrac{\pi}{2\sqrt{2}}\left[\int_0^1 (e^x-x)^2d(e^x-x)+\int_0^1 2(e^x-x)^2 dx \right]\\
&=\dfrac{\pi}{2\sqrt{2}}\left[\dfrac{(e-1)^3-1}{3}+2\int_0^1 (e^{2x}-2xe^x+x^2) dx \right]\\
&=\dfrac{\pi}{2\sqrt{2}}\left[\dfrac{(e-1)^3-1}{3}+e^2-\dfrac{13}{3}\right]\\
&=\dfrac{\pi}{2\sqrt{2}}\left[\dfrac{1}{3}(e-1)^3+e^2-\dfrac{14}{3}\right]
\end{split}
$$

**总结**：
本质上是个套公式题。

## 张宇18-P111：由隐函数确定的曲线旋转体的体积

函数$f(x,y)$满足$\dfrac{\partial f(x,y)}{\partial y}=2(y+1)$，且$f(y,y)=(y+1)^2-(2-y)\ln y$，求曲线$f(x,y)=0$所围图形绕直线$y=-1$旋转一周所得旋转体的体积。

**思路**：
由$f_y'=2(y+1)$得：
$$
f(x,y)=(y+1)^2+g(x)
$$
与$f(y,y)$比较，得到：
$$
f(x,y)=(y+1)^2-(2-x)\ln x
$$
因此曲线方程：
$$
(y+1)^2=(2-x)\ln x,1\le x\le 2
$$
进而可以计算出旋转体的体积：
$$
V=\pi\int_1^2 (1+y)^2dx=\pi\int_1^2 (2-x)\ln x dx=(2\ln 2-\dfrac{5}{4})\pi
$$

**总结**：
旋转体公式恰恰可以使用隐函数转化为一元函数的积分问题。

## 张宇18-P112：由微分方程确定的曲线旋转体的体积

设$y=f(x)$满足微分方程$y'+y=\dfrac{e^{-x}\cos x}{2\sqrt{\sin x}}$，且$f(\pi)=0$，求曲线$y=f(x)$（$x\ge 0$）绕$x$轴旋转一周所得旋转体的体积。

**思路**：
解微分方程得：
$$
y=f(x)=e^{-x}\sqrt{\sin x},x\ge 0
$$
旋转体的体积（注意，定义域包括不止一个区间）：
$$
\begin{split}
V&=\sum_{n=0}^{+\infty} \pi\int_{2n\pi}^{(2n+1)\pi} e^{-2x}\sin xdx \\
&=\pi\sum_{n=0}^{+\infty} \left[\dfrac{1}{5}e^{-2x}\left(-2\sin x-\cos x\right)\right]_{2n\pi}^{(2n+1)\pi} \\
&=\dfrac{\pi}{5}\sum_{n=0}^{+\infty} (e^{-4n\pi}\cdot e^{-2\pi}+e^{-4n\pi})\\
&=\dfrac{\pi(1+e^{-2\pi})}{5}\sum_{n=0}^{+\infty} e^{-4n\pi}=\dfrac{\pi}{5(1-e^{-2\pi})}
\end{split}
$$

**总结**：
旋转体可能是由若干段分离的几何体组成的，不是铁板一块。这种情况下需要分开计算。

## 张宇18-P113：由极坐标方程确定的曲线旋转体的体积

求心形线$r=2(1+\cos \theta)$和$\theta=0$，$\theta=\dfrac{\pi}{2}$围成的图形绕极轴旋转一周所成旋转体的体积。

**思路**：
![[Pasted image 20230714105639.png]]

为了方便起见，将$x,y$用$\theta$进行表示：
$$
\begin{split}
x=2(1+\cos\theta)\cos\theta\\
y=2(1+\cos\theta)\sin\theta
\end{split}
$$
运用旋转体体积公式进行积分：
$$
\begin{split}
V&=\pi\int_0^4 y^2dx=8\pi\int_0^{\pi/2} (1+\cos\theta)^2\sin^3\theta(1+2\cos\theta)d\theta \\
&=20\pi
\end{split}
$$

**总结**：
极坐标方程中$r$一般不用于表示$x,y$，因为表示结果可能十分丑陋，难于积分，一般用$\theta$表示$x,y$。

## 张宇18-P114：区间平均值问题

已知函数$f(x)$在$[0,3\pi/2]$上连续，在$(0,3\pi/2)$上是$\dfrac{\cos x}{2x-3\pi}$的一个原函数，且满足$f(0)=0$，求$f(x)$在区间$[0,3\pi/2]$上的平均值。

**思路**：
列平均值式：
$$
\bar{f}=\dfrac{2}{3\pi}\int_0^{3\pi/2} f(x)dx=\dfrac{2}{3\pi}\int_0^{3\pi/2}dx\int_0^x\dfrac{\cos t}{2t-3\pi}dt
$$
变换积分次序：
$$
\bar{f}=\dfrac{2}{3\pi}\int_0^{3\pi/2}dt\int_t^{3\pi/2} \dfrac{\cos t}{2t-3\pi}dx=-\dfrac{1}{3\pi}\int_0^{3\pi/2} \cos tdt=\dfrac{1}{3\pi}
$$

**总结**：
本题的核心是区间内平均值的计算公式，和变换积分次序的技巧。

## 张宇18-P114：由微分方程确定的函数弧长问题

设非负函数$y(x)$是微分方程$2yy'=\cos x$满足条件$y(0)=0$的解，求曲线$f_n(x)=n\displaystyle\int_0^{x/n}y(t)dt$（$0\le x\le n\pi$）的弧长。

**思路**：
解得$y(x)=\sqrt{\sin x}$。直接套用弧长公式：
$$
s_n=\int_0^{n\pi} \sqrt{1+[f_n'(x)]^2}dx=\int_0^{n\pi} \sqrt{1+\sin\dfrac{x}{n}}dx
$$
上述积分可通过三角变换计算：
$$
s_n=\int_0^{n\pi} \left(\sin\dfrac{x}{2n}+\cos\dfrac{x}{2n}\right)dx=4n
$$

**总结**：
别被问题唬住了，认真分析。

## 张宇18-P115：由极坐标方程确定的曲线弧长问题

求曲线$r\theta=1$（$3/4\le \theta\le 4/3$）在定义域内的弧长。

**思路**：
直接套用公式：
$$
s=\int_{3/4}^{4/3} \sqrt{r^2+(r')^2}d\theta=\int_{3/4}^{4/3}\dfrac{\sqrt{1+\theta^2}}{\theta^2}d\theta
$$
运用一次三角换元（$\theta=\tan u$）即可解决：
$$
s=\int_{\arctan 3/4}^{\arctan 4/3} \dfrac{1}{\sin^2u\cos u}du\overset{t=\sin u}{=}\int_{3/5}^{4/5} \dfrac{1}{t^2(1-t^2)}dt=\dfrac{5}{12}+\ln\dfrac{3}{2}
$$

**总结**：
本题核心在于记忆极坐标系中的弧长计算公式。

另外当时算错了，二刷算对了，再看一下。

## 张宇18-P116：极坐标下平面图形旋转体的表面积问题

求双纽线$r^2=a^2\cos 2\theta$（$a>0$）绕极轴旋转一圈所围成的旋转曲面面积。

**思路**：
双纽线分为两个“半圈”，一个半圈在极轴上，另一个半圈在极轴的反方向上，两者在坐标系内关于原点对称。

因此计算其中一个“半圈”旋转成的半球面积即可：
$$
s=2s'=2\int_0^{?} 2\pi y\sqrt{1+y'^2}dx=2\int_0^{\pi/4}2\pi\cdot r\sin\theta\cdot\sqrt{r^2+[r']^2}d\theta
$$
随后化简计算：
$$
\begin{split}
s&=4\pi\int_0^{\pi/4} a\sqrt{\cos 2\theta}\sin\theta\cdot\sqrt{a^2\cos2\theta+\dfrac{a^2\sin^2 2\theta}{\cos 2\theta}}d\theta \\
&=4\pi a^2\int_0^{\pi/4} \sin\theta d\theta=2\pi a^2(2-\sqrt{2})
\end{split}
$$

**总结**：
当时算错数了，再看一遍。

然后张宇1000同样的题目又错了一次，哈哈。

## 张宇18-P116：质心位置的分析问题

设函数$y=f(x)$在区间$[0,a]$上非负，$f''(x)>0$，且$f(0)=0$。由$y=f(x)$、$y=0$、$x=a$围成的平面区域的形心坐标为$(\bar{x},\bar{y})$。证明：$\bar{x}>\dfrac{2}{3}a$。

**思路**：
核心是证明这个式子成立：
$$
F(x)=\int_0^x tf(t)dt-\dfrac{2x}{3}\int_0^x f(t)dt>0
$$
求导：
$$
\begin{split}
F'(x)&=xf(x)-\dfrac{2}{3}\int_0^x f(t)dt-\dfrac{2}{3}xf(x)\\
&=\dfrac{1}{3}xf(x)-\dfrac{2}{3}\int_0^x f(t)dt
\end{split}
$$
继续求导（运用一次拉格朗日中值定理）：
$$
F''(x)=\dfrac{1}{3}xf'(x)-\dfrac{1}{3}f(x)=\dfrac{x}{3}\left[f'(x)-f'(\xi)\right]
$$
其中$0<\xi<x$。由于$f''(x)>0$，所以$f'(\xi)<f'(x)$，因此$F''(x)>0$。

可以依次证明$F'(x)>0$，$F(x)>0$，从而说明$\bar{x}>\dfrac{2a}{3}$。

**总结**：
本题的第一个要点在于构造命题，命题中区间右边界是变量；第二个要点在于反复求导，根据导函数的符号和增减性分析命题中函数的性质；第三个要点在于运用中值定理确定$F''(x)$的符号。

## 张宇18-P119：抽象函数的积分计算

设$\varphi(x)$是可微函数$f(x)$的反函数，$f(1)=0$，$\displaystyle\int_0^1 xf(x)dx=1$，求$\displaystyle\int_0^1 \left[\int_0^{f(x)} \varphi(t)dt\right]dx$的数值。

**思路**：
设$G(x)=\displaystyle\int_0^{f(x)} \varphi(t)dt$，则$G'(x)=f'(x)\varphi(f(x))=xf'(x)$。对积分运用分部积分法：
$$
\int_0^1G(x)dx=\left[xG(x)\right]_0^1-\int_0^1 x^2f'(x)dx=-\int_0^1 x^2f'(x)dx
$$
进一步运用分部积分法：
$$
\int_0^1 x^2f'(x)dx=[x^2f(x)]_0^1-2\int_0^1 xf(x)dx=-2
$$
因此：
$$
\int_0^1 G(x)dx=2
$$

**总结**：
当时一刷的时候没转过来这个弯，要先用反函数的性质，再用两次分部积分法。

## 张宇18-P119：推广积分中值定理的应用

设$f(x)$在$[0,\pi/2]$上存在连续二阶导数，且$f(0)=2$，$f(\pi/2)=1$，$\displaystyle\int_0^{\pi/2} f(x)e^{\sin x}\cos xdx=2(e-1)$。证明：存在$\xi\in(0,\pi/2)$，使得$f''(\xi)<0$。

**思路**：
运用**推广的积分中值定理**，可以找出一个$\eta\in(0,\pi/2)$，使得：
$$
f(\eta)\int_{0}^{\pi/2}d(e^{\sin x})=\displaystyle\int_0^{\pi/2} f(x)e^{\sin x}\cos xdx=2(e-1)
$$
因此$f(\eta)=2$。

根据拉格朗日中值定理：存在$\xi_1\in(0,\eta)$，使得$f'(\eta_1)=0$；存在$\xi_2\in(\eta,\pi/2)$，使得$f'(\eta_2)<0$。

再根据拉格朗日中值定理：存在$\xi\in(\xi_1,\xi_2)$，使得$f''(\xi)<0$。

**总结**：
推广积分中值定理可以将一些比较棘手的被积函数项拿出积分，降低问题的解决难度。

## 张宇18-P120：积分不等式的证明

![[Pasted image 20230714171049.png]]
![[Pasted image 20230714171103.png]]

**思路**：
令：
$$
F(x)=\dfrac{1}{2}[f(a)+f(x)](x-a)-\int_a^x f(t)dt,x>a
$$
求导，并运用拉格朗日中值定理：
$$
\begin{split}
F'(x)&=\dfrac{1}{2}f'(x)(x-a)+\dfrac{1}{2}[f(a)-f(x)]\\
&=\dfrac{1}{2}[f'(x)-f'(\eta)](x-a)
\end{split}
$$
发现对于任意的$x>a$，均有$F'(x)>0$，其中$\eta\in(a,x)$。所以$F(x)$单调增加，因此$F(b)>F(a)=0$，即
$$
\dfrac{1}{2}[f(a)+f(b)](b-a)>\int_a^b f(x)dx
$$

**总结**：
如欲证明某个积分不等式在任意的参数条件下均成立，可以将那个参数抽象成为自变量，并构造函数进行讨论。

## 张宇18-P121：积分大小的比较问题

![[Pasted image 20230714171505.png]]

**思路**：
放缩：$\sqrt{f(bx)}<\sqrt{a}$，发现只有C项的不等式恒成立。

**总结**：
一刷的时候傻咪了，后续看看就行。。

## 张宇18-P121：积分大小的比较问题

![[Pasted image 20230714171919.png]]

**思路**：
首先比较$M,N$，作差：
$$
N-M=\int_0^{1/2} \left[f(x+\dfrac{1}{2})-f(x)-f(\dfrac{1}{2})\right]dx
$$
可以通过不怎么严谨的方法推知$N-M>0$，因此$N>M$。

随后是比较$N,P$，$P$事实上就是下图的三角形ABC的面积。
![[Pasted image 20230714172438.png]]

可见$P>N$，所以D项正确。

**总结**：
你猜我咋的，当时没看出$P$是个三角形面积，然后就硬算。。。

## 张宇18-P122：利用泰勒公式解决积分大小的比较问题

![[Pasted image 20230714185047.png]]

**思路**：
由$f''(x)\ge 0$，祭出在$x=x_0$处的泰勒公式：
$$
f(x)=f(x_0)+f'(x_0)(x-x_0)+\dfrac{f''(x_0)}{2}(x-x_0)^2\ge f(x_0)+f'(x_0)(x-x_0)
$$
令$x_0=\dfrac{1}{a}\displaystyle\int_0^a u(t)dt$，$x=u(t)$：
$$
f[u(t)]\ge f\left[\dfrac{1}{a}\int_0^a u(t)dt\right]+f'(x_0)[u(t)-x_0]
$$
对该式在$[0,a]$上积分：
$$
\begin{split}
\int_0^a f[u(t)]dt&\ge a f\left[\dfrac{1}{a}\int_0^a u(t)dt\right]+f'(x_0)\left[\int_0^a u(t)dt-ax_0\right] \\
&=af\left[\dfrac{1}{a}\int_0^a u(t)dt\right]
\end{split}
$$
化简得：
$$
\dfrac{1}{a}\int_0^a f[u(t)]dt\ge f\left[\dfrac{1}{a}\int_0^a u(t)dt\right]
$$

**总结**：
泰勒公式比较适合指定了函数凹凸性的不等式题目。

## 张宇18-P124：运动学中的积分问题

质点作直线运动，速度与时间的关系满足
$$
v(t)=\dfrac{1}{(1+t^2)(1+t^{\alpha})},\alpha\ge 0
$$
求质点能运动的最远距离。

**思路**：
最远距离满足：
$$
s=\int_0^{+\infty} v(t)dt=\int_0^{+\infty} \dfrac{1}{(1+t^2)(1+t^{\alpha})}dt
$$
由于分母次数高，考虑换元（$u=\dfrac{1}{t}$，$t=\dfrac{1}{u}$，$dt=-\dfrac{du}{u^2}$）：
$$
s=\int_{+\infty}^0 \dfrac{u^{2+\alpha}}{(1+u^2)(1+u^{\alpha})}\cdot\left(-\dfrac{1}{u^2}\right)du
$$
发现：
$$
s+s=2s=\int_0^{+\infty} \dfrac{1}{1+t^2}dt=[\arctan t]_{0}^{+\infty}=\dfrac{\pi}{2}
$$
因此$s=\dfrac{\pi}{4}$。

**总结**：
结果挺让人意外的，和$\alpha$无关。

虽然是有物理背景的问题，但本题是一个经典的积分再现题目，也出现在了同济高数的课后题中。

## 张宇1000-P29：定义法计算定积分

![[Pasted image 20230718173109.png]]

**思路**：
最前的$\dfrac{1}{n}$是微元区间长度，与后面的和式组成如下的积分：
$$
\int_0^3 \dfrac{x}{x+1}dx=\left[x-\ln(1+x)\right]_0^3=3-2\ln 2
$$

**总结**：
不要想当然，定义法求定积分的式子一般是由一个微元区间长度乘以一个和式产生的。

## 张宇1000-P30：积分学的待定系数问题

![[Pasted image 20230718183146.png]]

**思路**：
设$A=\displaystyle\int_0^1 f^2(x)dx$，可列方程：
$$
A=\int_0^1 \left(3x-A\sqrt{1-x^2}\right)^2dx
$$
计算得方程$2A^2-9A+9=0$，解得：
$$
A_1=\dfrac{3}{2},A_2=3
$$
因此$f(x)=3x-\dfrac{3}{2}\sqrt{1-x^2}$或$f(x)=3x-3\sqrt{1-x^2}$。

**总结**：
呃。一刷计算错误。

## 张宇1000-P30：积分学中的待定函数问题

![[Pasted image 20230718185944.png]]

**思路**：
易知$F'(x)=f(x)$，因此$F(x)F'(x)=\dfrac{\arctan \sqrt{x}}{\sqrt{x}(1+x)}$。

两边求积分得：
$$
\int F(x)dF(x)=\int \dfrac{\arctan \sqrt{x}}{\sqrt{x}(1+x)}dx
$$
即：
$$
\dfrac{1}{2}F^2(x)=\arctan^2 \sqrt{x}+C
$$
代入$F(1)=\dfrac{\sqrt{2}}{4}$，得$C=0$，因此：
$$
f(x)=F'(x)=\dfrac{1}{\sqrt{2x}(1+x)}
$$

**总结**：
一刷粗心，写成了$F(x)$表达式。

## 张宇1000-P31：不定积分的计算

![[Pasted image 20230719101623.png]]

**思路**：
$$
\int\dfrac{1}{(1-x)\sqrt{1-x}}dx=2\int \dfrac{1}{1-x}d\sqrt{1-x}=-\dfrac{2}{\sqrt{1-x}}+C
$$

**总结**：
一刷算错数了。

## 张宇1000-P32：有理函数的积分

![[Pasted image 20230719101807.png]]

**思路**：
待定系数法：
$$
\dfrac{2x^2+x+1}{(2x-1)(2x^2+x-1)}=\dfrac{A}{x+1}+\dfrac{B}{2x-1}+\dfrac{C}{(2x-1)^2}
$$
解得：$A=\dfrac{2}{9},B=\dfrac{5}{9},C=\dfrac{4}{3}$。

因此：
$$
\begin{split}
\int_1^2\dfrac{2x^2+x+1}{(2x-1)(2x^2+x-1)}dx&=\left[\dfrac{2}{9}\ln(x+1)+\dfrac{5}{18}\ln(2x-1)-\dfrac{2}{3}\cdot\dfrac{1}{2x-1}\right]_1^2 \\
&=\dfrac{4}{9}+\dfrac{1}{2}\ln 3-\dfrac{2}{9}\ln 2
\end{split}
$$

**总结**：
一刷算错数了。有理函数的积分这块得加练。

## 张宇1000-P32：与变限积分有关的函数方程问题

![[Pasted image 20230719105522.png]]

**思路**：
对两边求导，得：
$$
f'(x)g[f(x)]+f(x)=xf'(x)+f(x)=[xf(x)]'=xe^x
$$
两边求积分，得（注意，不能直接假设$C=1$）：
$$
xf(x)=xe^x-e^x+C
$$
变形得到：
$$
f(x)=e^x+\dfrac{C-e^x}{x},x>0
$$
代入$f(0)=0$，解得$C=1$。因此：
$$
f(x)=\left\{\begin{matrix}
e^x+\dfrac{1-e^x}{x}, & x>0, \\
0, & x=0
\end{matrix}\right.
$$

**总结**：
当时的计算结果是：$f(x)=\dfrac{x}{x+1}e^x$。这是因为当时求导时左边算成了：
$$
xf(x)+f(x)=xe^x
$$
变限积分函数$\displaystyle\int_{f(x)}^{g(x)} \varphi(t)dt$的导数是$g'(x)\varphi(g(x))-f'(x)\varphi(f(x))$。

## 张宇1000-P32：分部积分法和特殊定积分

![[Pasted image 20230719123258.png]]

**思路**：
乍一看这个积分确实恶心。但如果合理变形，则这个积分也是可解的：
$$
I=\int_0^{+\infty} \dfrac{1-e^{-x}}{\sqrt{x^3}}dx=\int_0^{+\infty} (1-e^{-x})x^{-3/2}dx
$$
利用分部积分法，其中$g=1-e^{-x}$，$h=-2x^{-1/2}$：
$$
I=\left[-2(1-e^{-x})x^{-1/2}\right]_0^{+\infty}-\int_0^{+\infty} e^{-x}(-2x^{-1/2})dx=2\int_0^{+\infty}e^{-x}x^{-1/2}dx=2I'
$$
利用换元法（$u=\sqrt{x}$），得：
$$
I'=\int_0^{+\infty} e^{-x}d\left(2\sqrt{x}\right)=2\int_0^{+\infty}e^{-u^2}du=2I''
$$
右侧出现了一个特殊的定积分：
$$
I''=\int_0^{+\infty} e^{-u^2} du=\dfrac{\sqrt{\pi}}{2}
$$
代回，得：
$$
I=2I'=4I''=2\sqrt{\pi}
$$

**总结**：
特殊积分必须记住，概率论里也有用：
$$
\int_0^{+\infty} e^{-u^2} du=\dfrac{\sqrt{\pi}}{2}
$$
如果被积函数中有难于处理的、分母上的根式，则应该考虑是否存在换元手法。

## 张宇1000-P33：基于定积分定义的函数性质

![[Pasted image 20230719125702.png]]

**思路**：
根据定义法求定积分得到函数定义：
$$
f(x)=\left\{\begin{matrix}
\dfrac{\sin x}{x}, & x\neq 0,\\
1, & x=0 \\
\end{matrix}\right.
$$
由于$x=0$处不存在导函数的公式定义，所以需要用定义法计算该处导数：
$$
f'(0)=\lim_{x\rightarrow 0} \dfrac{f(x)-f(0)}{x}=\lim_{x\rightarrow 0}\dfrac{\sin x-x}{x^2}=O(x)=0
$$

**总结**：
这道题给出的函数和[[#张宇18-P82：定义法计算定积分]]是一致的。

一刷的时候算个$f'(0)=1$，估计是当时看成了$f(x)=\sin x$。

## 张宇1000-P33：积分大小的分类讨论

![[Pasted image 20230719130930.png]]

**思路**：
函数$f(x)$的部分图像（$k=0.5$）：
![[Pasted image 20230719131913.png]]

根据$x=k+1$落点的具体位置，分两种主要情形：
- 第一种：$-1\le k\le 0$，分界点落在区间内。
- 第二种：$-1\le k\le 0$，分界点不在区间内，两股函数中的一股落在区间内。

对于第一种情形：
$$
g(k)=\int_0^{k+1} (x-k)^2dx+\int_{k+1}^1 (x-k-2)^2dx=-k^2-k+\dfrac{1}{3}
$$
在$-1\le k\le 0$范围内，$\dfrac{1}{3}\le g(k)\le \dfrac{7}{12}$。

对于第二种情形：
$$
g(k)=\int_0^1(x-k)^2dx=k^2-k+\dfrac{1}{3}
$$
在$0\le k\le 1$范围内，$\dfrac{1}{12}\le g(k)\le \dfrac{1}{3}$。

因此，$g(k)$最大值为$\dfrac{7}{12}$，在$k=-\dfrac{1}{2}$时取得；$g(k)$最小值为$\dfrac{1}{12}$，在$k=\dfrac{1}{2}$时取得。

**总结**：
遇到带绝对值、最大值最小值记号的被积函数，一定要善于分类讨论，不能懒。

## 张宇1000-P33：抽象函数积分大小的讨论

![[Pasted image 20230719134939.png]]

**思路**：
![[Pasted image 20230719140548.png]]

**总结**：
本题当时选了B。关键是，如何通过函数图像将题目中给出的函数抽象成上面思路描述的形式。

定量分析也不是不可以，但是太麻烦，详见解析册的P94。

## 张宇1000-P34：定积分的计算

![[Pasted image 20230719142305.png]]

**思路**：
令$\ln \dfrac{1}{x}=t$，则$x=e^{-t}$，$dx=-e^{-t}dt$。因此：
$$
\begin{split}
I&=\int_{e^{-2n\pi}}^1 \left|\left[\cos\left(\ln\dfrac{1}{x}\right)\right]'\right|\ln\dfrac{1}{x}dx \\
&=\int_0^{2n\pi} \left|\dfrac{d(\cos t)}{dt}\cdot\dfrac{dt}{dx}\right|te^{-t}dt\\
&=\int_0^{2n\pi} |\sin t\cdot e^t| te^{-t}dt\\
&=\int_0^{2n\pi} t|\sin t|dt
\end{split}
$$
到这一步我当时的运算是正确的，但我没把绝对值符号当回事，所以算了个错误答案$-2n\pi$。

正确的做法：
$$
\begin{split}
I&=\int_0^\pi \left[2nt+\dfrac{2n(2n-1)}{2}\pi\right]\sin tdt\\
&=n(2n-1)\pi\int_0^\pi \sin tdt+2n\int_0^\pi t\sin tdt\\
&=(4n^2-2n)\pi+2n\pi=4n^2\pi
\end{split}
$$

**总结**：
本题需要灵活运用区间再现公式、求和技巧和积分换元技巧。

## 张宇1000-P34：递推方式计算定积分

![[Pasted image 20230719144515.png]]

**思路**：
第一问的$I_n$并非不可解，但在考场上算出的可能性极低。如果有WolframAlpha，则它是下面这个结果（$n=10$）：
![[Pasted image 20230719144839.png]]

考虑换个思路，既然求$I_n-I_{n-1}$，则先代入合并，后算积分，就可能简便很多：
$$
I_n-I_{n-1}=\int_0^{\pi/2}\dfrac{\sin 2nx-\sin(2n-2)x}{\sin x}dx
$$
运用和差化积公式，进一步化简，并计算得到结果：
$$
\begin{split}
I_n-I_{n-1}&=\int_0^{\pi/2} \dfrac{\cos(2n-1)x\cdot\sin x}{\sin x}dx\\
&=\int_0^{\pi/2} \cos(2n-1)xdx=\dfrac{2}{2n-1}\left[\sin(2n-1)x\right]_0^{\pi/2}=(-1)^{n-1}\cdot\dfrac{2}{2n-1}
\end{split}
$$

第二问直接运用第一问的结论。$I_1=2$是显然的，因此：
$$
I_3=I_1+(I_2-I_1)+(I_3-I_2)=2-\dfrac{2}{3}+\dfrac{2}{5}=\dfrac{26}{15}
$$

**总结**：
函数的**和差化积和积化和差公式**几乎是$\sin A-\sin B$型化简的唯一手段。

另外，观察并解决问题的必要和关键部分，而非解决整个问题，也是做题的技巧之一。

## 张宇1000-P36：由参数方程确定的曲线弧长

（只看第二问）
![[Pasted image 20230719163636.png]]

**思路**：
弧长：
$$
s=4\int_0^{\pi/2} \sqrt{(x')^2+(y')^2}dt=4\int_0^{\pi/2}3a\sin t\cos tdt=6a
$$

**总结**：
罪过，当时做过还做对了的题反而错了：[[#660-T71：旋转曲面的面积计算]]。

错的原因就是把计算公式中的$\sqrt{1+(y_x')^2}$错用成了$\sqrt{1+(y_t')^2}$。

## 张宇1000-P37：旋转体体积计算中的柱壳法

![[Pasted image 20230719164941.png]]

**思路**：
本题是异轴旋转体（一边靠$x$轴，但绕$y$轴旋转），分柱壳法和同心圆法两种方法。

传统的同心圆法会在此题遇到困难，因为这种函数很难确定满足$y=k$的两个零点$x_1,x_2$的具体关系。

考虑运用柱壳法进行运算：
$$
\begin{split}
V&=2\pi\int_{\pi}^{4\pi}x|y(x)|dx\\
&=2\pi\left[\int_{2\pi}^{5\pi/2}\cos x\sqrt{\sin x}dx+\int_{5\pi/2}^{3\pi}(-\cos x\sqrt{\sin x})dx\right]\\
&=2\pi\left[\left.\dfrac{2}{3}(\sin x)^{3/2}\right|_{2\pi}^{5\pi/2}-\left.\dfrac{2}{3}(\sin x)^{3/2}\right|_{5\pi/2}^{3\pi}\right]\\
&=\dfrac{8}{3}\pi
\end{split}
$$

**总结**：
在旋转体体积计算方法中，柱壳法对那些对称性很差或者几乎没有的函数有奇效。但如果是对称性比较好的函数，选同心圆法会省点时间。

如果两种方法都能用，则尽量分别算一下，用于验算结果。

## 张宇1000-P37：旋转体体积的计算

（只看第三问）
![[Pasted image 20230719180545.png]]

**思路**：
题目所圈画的区域$D$对应下列的极坐标不等式：
$$
1-\cos \theta\le r\le 1+\cos \theta
$$
同时也对应下面的图：
![[Pasted image 20230719183627.png]]

求$D$绕$y$轴旋转的体积的做法是同心圆法。计算过程比较繁琐：
$$
\begin{split}
V&=&&2\int_0^1 \pi\varphi^2(y)dy-2\int_0^1 \pi\phi^2(y)dy\\
&=&&2\pi\int_0^{\pi/2}(1+\cos\theta)^2\cos^2\theta(2\cos^2\theta+\cos\theta-1)d\theta-\\
&&&2\pi\int_0^{\pi/2}(1-\cos\theta)^2\cos^2\theta(-2\cos^2\theta+\cos\theta+1)d\theta\\
&=&&2\pi\int_0^{\pi/2} (4\cos^6\theta+6\cos^4\theta-2\cos^2\theta)d\theta\\
&=&&2\pi\left(4\cdot\dfrac{5}{6}\cdot\dfrac{3}{4}\cdot\dfrac{1}{2}\cdot\dfrac{\pi}{2}+6\cdot\dfrac{3}{4}\cdot\dfrac{1}{2}\cdot\dfrac{\pi}{2}-2\cdot\dfrac{1}{2}\cdot\dfrac{\pi}{2}\right)\\
&=&&\dfrac{5}{2}\pi^2
\end{split}
$$

**总结**：
整个旋转体的体积其实很难由一个式子来表示。所以比较理想的方式是拆成两个式子，一个减去另一个即得到旋转体体积。

本题当时是计算错误，如果正式考试需要多验算几遍。

## 张宇1000-P38：中值定理在积分等式问题中的应用

![[Pasted image 20230719192302.png]]

**思路**：
对于第一个命题，设$F(x)=\displaystyle\int_0^x f(t)dt$，则问题等价为：对于满足$F(0)=0$，且在$[0,1]$内处处连续可导的函数$F(x)$：证明存在$\xi\in(0,1)$，使得$F(\xi)-(1-\xi)F'(\xi)=0$。

构造函数$\varphi(x)=(1-x)F(x)$，因此$\varphi(0)=\varphi(1)=0$。因此根据罗尔定理，存在$\xi\in(0,1)$，满足：
$$
\varphi'(\xi)=(1-\xi)F'(\xi)-F(\xi)=0
$$
因此命题成立。

对于第二个命题：设存在$0<\eta<\xi<1$，满足：
$$
\int_0^\xi f(t)dt=(1-\xi)f(\xi),\int_0^\eta f(t)dt=(1-\eta)f(\eta)
$$
两式相减，根据$f(x)>0$且单调递减的性质，得知：
$$
\int_\eta^\xi f(t)dt=(1-\xi)f(\xi)-(1-\eta)f(\eta)=(1-\eta)[f(\xi)-f(\eta)]+(\eta-\xi)f(\xi)<0
$$
但根据定义，左边$\displaystyle\int_\eta^\xi f(t)dt>0$理应成立，与假设矛盾。因此$\xi$是唯一的。

**总结**：
本题最重要的是看出$F(x)-(1-x)F'(x)$本质上可以构造为一个辅助函数的导数。根据对这个辅助函数的研究，可以证明零点的存在性。

对于唯一性，可以利用反证法，假设存在两个不同的点，再构造矛盾命题。

## 张宇1000-P39：

![[Pasted image 20230719201150.png]]

**思路**：
若$f(x)$无零点，则有如下命题成立，从而可以推导原命题成立：
$$
\int_0^1 |f(x)|dx=\left|\int_0^1 f(x)dx\right|\le \max\left\{\int_0^1 |f'(x)|dx,\left|\int_0^1 f(x)dx\right|\right\}
$$

若$f(x)$有零点，记其中一个零点为$c$，即$f(c)=0$，则：
$$
f(x)=f(x)-f(c)=\int_c^xf'(t)dt
$$
因此如下命题成立：
$$
\int_0^1|f(x)|dx=\int_0^1\left|\int_c^x f'(t)dt\right|dx\le \int_0^1 \left[\int_0^1 |f'(t)|dt\right]dx=\int_0^1 |f'(t)|dt
$$
可以根据这个命题进一步推导原命题成立。

**总结**：
本题的难度在于推导有零点的情形。核心思想是：以零点为核心，通过放缩方式将对$f(x)$的积分扩大到对$|f'(x)|$的积分。

## 张宇1000-P39：中值定理在积分不等式问题中的运用

![[Pasted image 20230719203356.png]]

**思路**：
令$\varphi(x)=\displaystyle\int_a^x f(t)dt$，有$\varphi(a)=\varphi(b)=0$。根据闭区间的最值定理知，存在$x_0\in(a,b)$，满足$|\varphi(x)|\le|\varphi(x_0)|$。

若$\varphi(x_0)=0$，则结论显然成立。

若$\varphi(x_0)\neq 0$，则$\varphi(x_0)$必是$\varphi(x)$的一个极值，因此$\varphi'(x_0)=0$。根据泰勒公式：
$$
\varphi(x)=\varphi(x_0)+\varphi'(x_0)(x-x_0)+\dfrac{\varphi''(\xi)}{2}(x-x_0)^2
$$
其中$\xi$介于$x,x_0$之间。分别代入$x=a$、$x=b$，运用代换$\varphi''(x)=f'(x)$，得：
$$
0=\varphi(x_0)+\dfrac{f'(\xi_1)}{2}(a-x_0)^2
$$
$$
0=\varphi(x_0)+\dfrac{f'(\xi_2)}{2}(b-x_0)^2
$$
进行放缩，得到：
$$
|\varphi(x_0)|\le \min\left\{\dfrac{M}{2}(a-x_0)^2,\dfrac{M}{2}(b-x_0)^2\right\}\le\dfrac{M}{8}(b-a)^2
$$
因此原命题得证。

**总结**：
本题的要点在于：
- 敏锐地察觉并利用变限积分函数的最大值点。（代表性、导数为零）
- 将题目命题转化为单个点的命题。
- 利用泰勒公式将$f'(x)$与$\displaystyle\int f(x)dx$互相表示
- 运用不等式放缩，证明$\varphi(x_0)$的上界。

## 张宇1000-P39：基于积分不等式的函数存在性问题

![[Pasted image 20230719210422.png]]

**思路**：
题目给出了大量关于$f(x)$的数值性质，考虑利用放缩法限定$f(x)$的大致范围。

在$[0,x]$区间上运用拉格朗日中值定理，有：
$$
f(x)=f(0)+f'(\xi_1)(x-0)=1+xf'(\xi_1)
$$
在$[x,2]$区间上运用拉格朗日中值定理，有：
$$
f(x)=f(2)+f'(\xi_2)(2-x)=1+(2-x)f'(\xi_2)
$$
运用放缩$|f'(x)|\le 1$，将它们处理成上下界的形式：
$$
1-x\le f(x)\le 1+x,0\le x\le 2
$$
$$
x-1\le f(x)\le 3-x,0\le x\le 2
$$
对应下图的阴影部分：
![[Pasted image 20230719212531.png]]

我们可以发现，哪怕是$f(x)$几乎完全贴着区域的下边界，它的积分也会超过1：
$$
\begin{split}
\int_0^2 f(x)dx&=\int_0^1f(x)dx+\int_1^2f(x)dx\\
&> \int_0^1(1-x)dx+\int_1^2 (x-1)dx\\
&=1
\end{split}
$$
这也说明了根据其他条件的推导，条件$\left|\displaystyle\int_0^1 f(x)dx\right|\le 1$不可能成立。因此符合所有要求的$f(x)$不存在。

**总结**：
一个很好但我不太可能做出来的题，很吃题感，详细细节看题目。

## 张宇1000-P40：力学中的积分问题

![[Pasted image 20230719221158.png]]

**思路**：
题目涉及场景如下图：
![[Pasted image 20230719221452.png]]

长度微元对单位质点的引力为：
$$
dF=G\cdot\dfrac{\rho dy}{1+y^2}
$$
其在$x$轴**正向**的分力为：
$$
dF_x=\dfrac{-1}{\sqrt{1+y^2}}dF=-\dfrac{G\rho dy}{(1+y^2)^{3/2}}
$$
因此整个细杆对此质点的引力在$x$轴的正向的分力：
$$
F_x=\int_0^1\left[-\dfrac{G\rho}{(1+y^2)^{3/2}}\right]dy\overset{y=\tan t}{=}-G\rho\int_0^{\pi/4} \cos tdt=-\dfrac{\sqrt{2}}{2}G\rho
$$

**总结**：
一刷的时候答案少个负号。注意题目求的是沿$x$轴正向的分力。

## 张宇1000-P40：常用物理量的取值问题

![[Pasted image 20230719221930.png]]

**思路**：
$$
W=1875\pi\rho g=(1875\times 3.14\times 10^3\times 9.8)(J)=5.77\times 10^7 J
$$

**总结**：
本题一刷的结果如果单按数值算，或许没错。但各习题册的答案都明确要求代入以下各个常用量：
$$
\pi=3.14,\rho_{水}=10^3 \text{kg} / \text{m}^{3},g=9.8 \text{m}/\text{s}^2
$$

## 张宇1000-P40：力学中的积分问题

![[Pasted image 20230719225523.png]]

**思路**：
题目所叙述的场景对应下图：
![[Pasted image 20230719232704.png]]

在其上取一个长度微元$dl=\sqrt{1+(y_x')^2}dx$，并计算该点对单位质点引力的水平分量$dF_x$：
$$
\begin{split}
dF_x&=dF\cdot\dfrac{x}{\sqrt{x^2+y^2}}\\
&=\sqrt{1+(y_x')^2}dx\cdot\left(x^2+y^2\right)^{3/2}\cdot\dfrac{G}{x^2+y^2}\cdot\dfrac{x}{\sqrt{x^2+y^2}}\\
&=\dfrac{1}{\cos t}\cdot |-3\cos^2 t\sin t|dt\cdot\cos^3 t\\
&=3G\cdot \cos^4 t\sin tdt
\end{split}
$$
求积分：
$$
F_x=\int dF_x=\int_0^{\pi/2} 3G\cos^4 t\sin tdt=\dfrac{3}{5}G
$$

**总结**：
一般物理应用题不会太难为人。如果发现积分太恶心，那么大概率算错了，或者没读明白题。

## 张宇1000-P41：力学中的积分问题

（只看第二问）
![[Pasted image 20230719235152.png]]

**思路**：
第一问的引力公式：
$$
F=\dfrac{GM}{a(a+l)}
$$
引力在质点右移时做负功，满足：
$$
W=\int_{l_1}^{l_2}(-F)dl=-\int_{l_1}^{l_2} \dfrac{GMl}{a(a+l)}dl=
$$