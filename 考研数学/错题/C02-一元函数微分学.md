
## 张宇18-P28：函数可导的概念和性质

$f(x)$在$x=0$的某邻域内有定义，且$\displaystyle\lim_{x\rightarrow 0} f(x)=0$，则下列命题正确的是：
- 当$\displaystyle\lim_{x\rightarrow 0} \frac{f(x)}{\sqrt{|x|}}=0$时，$f(x)$在$x=0$处可导
- 当$\displaystyle\lim_{x\rightarrow 0} \frac{f(x)}{x^2}=0$时，$f(x)$在$x=0$处可导
- 当$f(x)$在$x=0$处可导时，$\displaystyle\lim_{x\rightarrow 0} \frac{f(x)}{\sqrt{|x|}}=0$
- 当$f(x)$在$x=0$处可导时，$\displaystyle\lim_{x\rightarrow 0} \frac{f(x)}{x^2}=0$

**思路**：
前两个命题是错误的，因为极限趋于0甚至无法说明在$x=0$处连续，可导更是无从谈起。一个简单的例子是$f(x)=\left\{\displaystyle\begin{matrix}x^3, & x\neq 0, \\ 1, & x=0,\end{matrix}\right.$。

第三个命题是正确的，第四个命题是错误的。$f(x)$在$x=0$处可导说明有如下极限存在：
$$
\lim_{x\rightarrow 0} \frac{f(x)-f(0)}{x}=\lim_{x\rightarrow 0} \frac{f(x)}{x}
$$
这说明$f(x)$在$x=0$处是$x$的同阶或高阶无穷小，它自然是$\sqrt{|x|}$的高阶无穷小，因此第三个命题是正确的；但不一定是$x^2$的高阶无穷小，因此第四个命题是错误的。

**总结**：
函数连续是函数可导的必要但不充分条件。可导还要附加两侧导数存在且相等这一条件。

但仅有导数极限存在说明不了可导，因为没有连续这一必要条件。只有函数是连续的，讨论导数极限才有意义。

## 张宇18-P28：函数可导的概念和性质

已知函数$f(x)=\displaystyle\left\{\begin{matrix}x, & x\le 0, \\ \dfrac{1}{n}, & \dfrac{1}{n+1}<x\le \dfrac{1}{n},n=1,2,\cdots\\ \end{matrix}\right.$，则$f(x)$在$x=0$是间断、连续但不可导、还是可导？

**思路**：
$f(x)$在$x=0$处有定义，而$\displaystyle\lim_{x\rightarrow 0} f(x)=f(0)=0$是显然的，因此$f(x)$在$x=0$处连续，只需说明$\displaystyle\lim_{x\rightarrow 0} \frac{f(x)}{x}$存在。
左侧极限$\displaystyle\lim_{x\rightarrow 0^-} \frac{f(x)}{x}=\displaystyle\lim_{x\rightarrow 0^-} \frac{1}{1}=1$是容易的。
右侧极限需要通过夹逼法证明：
$$
\frac{n+1}{n}>\lim_{x\rightarrow 0^+} \frac{f(x)}{x}=\frac{1}{nx}\ge 1
$$
而$\dfrac{n+1}{n}\rightarrow 1$，则$\displaystyle\lim_{x\rightarrow 0^+} \frac{f(x)}{x}=1$。
因此$f(x)$在$x=0$处可导。

**总结**：
单点有定义+两侧极限等于定义=函数单点连续
函数单点连续+两侧导数极限存在=函数单点可导

## 张宇18-P30：函数求导

求$f(x)=\sqrt[3]{x^2}\sin x$的导函数。

**思路**：
$x\neq 0$：直接运用求导法则，得$f'(x)=\dfrac{2}{3\sqrt[3]{x}}\sin x+\sqrt[3]{x^2}\cos x,x\neq 0$。
$x=0$：计算两侧导函数极限，得$f'(0)=\displaystyle\lim_{x\rightarrow 0} \frac{\sqrt[3]{x^2}\sin x}{x}=0$。
因此导函数：
$$
f'(x)=\left\{\begin{matrix}\dfrac{2}{3\sqrt[3]{x}}\sin x+\sqrt[3]{x^2}\cos x, & x\neq 0,\\0, & x=0.\end{matrix}\right.
$$

**总结**：
对于无法用通用表达式表示的点的导数（$x=0$），需要用定义法，即求两侧的导函数极限。如果两侧极限存在且相等，则需要补全该点的导数定义。

另一个单点求导的示例：$g(x)=x^2\sin \dfrac{1}{x},x\in \mathbf{R}$。
需要对$x=0$处用定义法求导数：
$$
g'(0)=\lim_{x\rightarrow 0} \frac{g(x)-g(0)}{x-0}=\lim_{x\rightarrow 0} x\sin \frac{1}{x}=0
$$

## 张宇18-P35：反函数求导

设$y=f(x)=x\displaystyle\int_{0}^2 e^{-(xt)^2}dt+x^2$，其在$x=0$的某邻域内与$x=g(y)$互为反函数，求$g''(0)$。

**思路**：
反函数的二阶导数满足：
$$
\frac{d^2x}{dy^2}=\frac{d\dfrac{dx}{dy}}{dy}=\frac{d\left(\dfrac{1}{\dfrac{dy}{dx}}\right)}{dx}\cdot\frac{1}{\dfrac{dy}{dx}}=-\frac{\dfrac{d^2y}{dx^2}}{\left(\dfrac{dy}{dx}\right)^3}
$$
计算$f(x)$的一阶导数和二阶导数：
$$
f'(x)=\left(\int_{0}^{2x} e^{-u^2}du+x^2\right)'=2e^{-4x^2}+2x
$$
$$
f''(x)=-16xe^{-4x^2}+2
$$
计算得$g''(0)=-\dfrac{f''(0)}{\left[f'(0)\right]^3}=-\dfrac{1}{4}$。

**总结**：
反函数的导数可以转化为正函数各阶导数的表达式，需要特别识记。

## 张宇18-P36：分段函数求导

已知$f(x)$连续且$\displaystyle\lim_{x\rightarrow 0} \frac{f(x)}{x}=1$，$g(x)=\displaystyle\int_{0}^1 f(xt)dt$，求$g'(x)$并证明其在$x=0$处连续。

**思路**：
求得$g(x)$：
$$
g(x)=\left\{\begin{matrix}\dfrac{1}{x}\int_{0}^x f(u)du, & x\neq 0, \\ 0, & x=0\\\end{matrix}\right.
$$
用定义法解$g'(0)$：
$$
g'(0)=\lim_{x\rightarrow 0}\frac{g(x)-g(0)}{x-0}=\lim_{x\rightarrow 0} \frac{\displaystyle\int_{0}^x f(u)du}{x^2}=\lim_{x\rightarrow 0} \frac{f(x)}{2x}=\frac{1}{2}
$$
用公式法解$g'(x),x\neq 0$，并得到$g'(x)$的完整定义：
$$
g'(x)=\left\{\begin{matrix}\dfrac{f(x)}{x}-\dfrac{1}{x^2}\displaystyle\int_{0}^x f(u)du, & x\neq 0,\\\dfrac{1}{2}, & x=0.\end{matrix}\right.
$$
因为$\displaystyle\lim_{x\rightarrow 0}g'(x)=\lim_{x\rightarrow 0}\frac{f(x)}{2x}=\frac{1}{2}$，所以$g'(x)$在$x=0$处连续。

**总结**：
分段函数的分段点如果可导，则必须通过定义法补全对应点的导数定义。

## 张宇18-P41：利用泰勒定理求高阶导数

设$f(x)=\dfrac{1+x+x^2}{1-x+x^2}$，求$f^{(4)}(0)$的值。

**思路**：
由于题目要求计算的只是单点导数，所以没必要用公式法算四阶导数。（算了也是浪费时间，还不一定对）
考虑用泰勒定理将函数在$x=0$处展开到四阶：
$$
\begin{split}
f(x)&=1+\frac{2x}{1-x+x^2}\overset{立方差}{=}1+2x\cdot\frac{1+x}
{1+x^3}\\
&\overset{级数展开}{=} s
\end{split}
$$